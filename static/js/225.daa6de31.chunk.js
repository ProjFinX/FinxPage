"use strict";(self.webpackChunkfinxapp=self.webpackChunkfinxapp||[]).push([[225],{96225:(e,s,t)=>{t.r(s),t.d(s,{default:()=>N});var l=t(65043),r=t(24858),a=t(18403),o=t(73033),c=t(84756),d=t(80511),n=t(47046),i=t(8204),m=t(86971),h=t(60458),x=t(64196),b=t(70579);const j=o.Ik().shape({txtRoleName:o.Yj().required("Role name can not be empty").max(50,"Role name  Max lenght is 50 ")}),N=()=>{const[e,s]=(0,l.useState)({txtRoleId:"",txtRoleName:""}),{register:t,handleSubmit:o,formState:{errors:N},reset:p}=(0,r.mN)({resolver:(0,a.t)(j),defaultValues:e}),[u,v]=(0,l.useState)(""),[g,R]=(0,l.useState)(0),[f,y]=(0,l.useState)(!1),[S,I]=((0,m.Zp)(),(0,l.useState)([]));(0,l.useEffect)((()=>{(async()=>{const e=await(0,h.h)();console.log(JSON.stringify(e.body.Roles)),I(e.body.Roles)})(),console.log("rerendering")}),[g]);const A=async(e,s)=>{s.preventDefault(),y(!0),console.log("Enter Create new branch api call"),console.log(e);const t={hdr:{convid:(0,d.lk)(),tag:"NewRole",orgid:"",vendid:"0"},body:e},l={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}};console.log(l);try{const e=await c.Ay.post("/cmpstp/mngrole",(0,d.Yw)(t),l),s=JSON.parse((0,d.H5)(e.data));console.log(s),"FAILED"==s.hdr.rst||"ERROR"==s.hdr.rst?($("Error",JSON.stringify(s.fdr[0].rstmsg)),y(!1)):($("Success",JSON.stringify(s.fdr[0].rstmsg)),y(!1))}catch(r){console.log(r.message),$("Error","Unable to process request"),y(!1)}};const $=(e,s)=>{v({AlertType:e,message:s})};try{var k,w;return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("section",{className:"vh-100",children:(0,b.jsx)("div",{className:"container h-100",children:(0,b.jsxs)("div",{className:"card text-black",style:{borderRadius:"25px"},children:[(0,b.jsx)("div",{className:"card-header",children:(0,b.jsx)("strong",{className:"card-title",children:"Create New Role"})}),(0,b.jsxs)("div",{className:"card-body p-md-5",children:[f?(0,b.jsx)(n.A,{}):"",(0,b.jsx)(i.A,{alert:u}),(0,b.jsxs)("form",{onSubmit:o(A),autocomplete:"off",children:[(0,b.jsxs)("div",{className:"row",children:[(0,b.jsx)("div",{className:"col-sm",children:(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("label",{htmlFor:"txtRoleName",className:"form-label",children:" Role Name"}),(0,b.jsx)("input",{...t("txtRoleName"),type:"text",className:"form-control"}),(0,b.jsx)("p",{children:null===(k=N.txtRoleName)||void 0===k?void 0:k.message})]})}),(0,b.jsx)("div",{className:"col-sm",children:(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("label",{htmlFor:"txtRoleId",className:"form-label",children:" Role Id"}),(0,b.jsx)("input",{...t("txtRoleId"),type:"text",className:"form-control",disabled:"disabled",readonly:"readonly"})]})})]}),(0,b.jsxs)("div",{className:"row",children:[(0,b.jsx)("div",{className:"col-sm",children:(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("input",{...t("cbIsActive"),type:"checkbox",defaultChecked:"true"})," \xa0",(0,b.jsx)("label",{htmlFor:"cbIsActive",className:"form-label",children:"Active"}),(0,b.jsx)("p",{children:null===(w=N.cbIsActive)||void 0===w?void 0:w.message})]})}),(0,b.jsx)("div",{className:"col-sm",children:(0,b.jsx)("div",{className:"mb-3"})})]}),(0,b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]}),(0,b.jsxs)(x.A,{striped:!0,bordered:!0,hover:!0,children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"Id"}),(0,b.jsx)("th",{children:"Role"}),(0,b.jsx)("th",{children:"Status"}),(0,b.jsx)("th",{children:(0,b.jsxs)("button",{className:"btn btn-success",onClick:()=>{p({txtRoleId:"",txtRoleName:""})},children:[" ",(0,b.jsx)("i",{className:"bi bi-table"})," Add "]})})]})}),(0,b.jsx)("tbody",{children:S.map((e=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:e.RoleId}),(0,b.jsx)("td",{children:e.RoleName}),(0,b.jsx)("td",{children:e.BRUMapStatus}),(0,b.jsx)("td",{children:(0,b.jsxs)("button",{className:"btn btn-primary",onClick:()=>{var s;p({txtRoleId:(s=e).RoleId,txtRoleName:s.RoleName}),R(s.RoleId),console.log(o)},children:["  ",(0,b.jsx)("i",{className:"bi bi-pen"})," Edit"]})})]})))})]})]})})})})}catch(C){console.log(C.message)}}},60458:(e,s,t)=>{t.d(s,{h:()=>o});t(65043);var l=t(80511),r=t(84756);const a=t(82585).F,o=async()=>{let e;const s=a.RoleList,t={hdr:{convid:(0,l.lk)(),tag:"brchlst",orgid:"",vendid:"0"},body:{}},o={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}},c=s;return await r.Ay.post(c,(0,l.Yw)(t),o).then((function(s){const t=JSON.parse((0,l.H5)(s.data));console.log(t),e=t})),e}},64196:(e,s,t)=>{t.d(s,{A:()=>d});var l=t(64600),r=t.n(l),a=t(65043),o=t(67852),c=t(70579);const d=a.forwardRef(((e,s)=>{let{bsPrefix:t,className:l,striped:a,bordered:d,borderless:n,hover:i,size:m,variant:h,responsive:x,...b}=e;const j=(0,o.oU)(t,"table"),N=r()(l,j,h&&`${j}-${h}`,m&&`${j}-${m}`,a&&`${j}-${"string"===typeof a?`striped-${a}`:"striped"}`,d&&`${j}-bordered`,n&&`${j}-borderless`,i&&`${j}-hover`),p=(0,c.jsx)("table",{...b,className:N,ref:s});if(x){let e=`${j}-responsive`;return"string"===typeof x&&(e=`${e}-${x}`),(0,c.jsx)("div",{className:e,children:p})}return p}))}}]);
//# sourceMappingURL=225.daa6de31.chunk.js.map