"use strict";(self.webpackChunkfinxapp=self.webpackChunkfinxapp||[]).push([[724],{90724:(e,t,l)=>{l.r(t),l.d(t,{default:()=>y});var s=l(65043),a=l(24858),n=l(91036),o=l(8204),r=l(47046),c=l(18403),m=l(73033),i=l(57492),d=l(80511),x=l(84756),h=l(82585),u=l(89312),p=l(70579);const b=function(e){let{elmList:t,setElementValue:l,delElement:s}=e;return t.map(((e,t)=>{const{ElmName:a,ControlType:n,DataType:o,Caption:r,ParentElmName:c,MaxLength:m,RangeFrom:i,RangeTo:d,SizeInKB:x,FileExt:h,IsFrmGrid:u,ElementId:b,ControlId:j,DataTypeId:N,ParentElementId:y,ParentControlId:C,CmbCod:g,CmbCon:v,ConStr:f}=e;let E="";return 3==j?E=g+" | "+(null!=f?f:"")+" | "+(null!=v?v:""):2==j?E=(null!=i?i:"")+" - "+(null!=d?d:""):9==j?E=(null!=x?x+"kb":"")+" - "+(null!=h?h:""):10==j&&(E=u?"From Grid":""),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:b}),(0,p.jsxs)("td",{children:[" ",(0,p.jsx)("button",{onClick:()=>l(e),class:"btn btn-link",children:a}),"  "]}),(0,p.jsx)("td",{children:c}),(0,p.jsxs)("td",{children:[n,"/",o]}),(0,p.jsx)("td",{children:m}),(0,p.jsx)("td",{children:E}),(0,p.jsx)("td",{children:(0,p.jsx)("button",{onClick:()=>s(b),class:"btn btn-light clr-gray",children:(0,p.jsx)("i",{class:"fa fa-trash-o"})})})]},t)}))},j=h.F,N=m.Ik().shape({txtElementName:m.Yj().required("Pls provide element name"),txtCaption:m.Yj().required("Pls provide caption "),cmbControlType:m.Yj().required("Pls select control type"),cmbDataType:m.Yj().required("Pls select data type")});const y=function(e){let{ScrId:t}=e;const[l,m]=(0,s.useState)([]),[h,y]=(0,s.useState)([]),[C,g]=(0,s.useState)([]),[v,f]=(0,s.useState)([]),[E,T]=(0,s.useState)([]),[F,S]=(0,s.useState)(""),[I,D]=(0,s.useState)(!1),{register:R,handleSubmit:w,formState:{errors:k},reset:P,getValues:A}=(0,a.mN)({resolver:(0,c.t)(N)}),L=async e=>{const t=await(0,u.R)(e);f(t.body.elements)};(0,s.useEffect)((()=>{(async()=>{const e=await(0,i.n)("|CTL|DTTY|CTBL|","");m(e.body.ctl),y(e.body.dtty),g(e.body.ctbl)})()}),[]),(0,s.useEffect)((()=>{L(t)}),[]);const B=e=>{let t=e.target.value;"File"!=t&&P({txtSizeInKB:"",txtFileExt:""}),"ComboBox"!=t&&P({txtCmbCode:"",txtCmbCon:"",cmbDbShortName:"0"}),"NumericBox"!=t&&P({txtRangeFrom:"",txtRangeTo:""})},M=()=>{P({txtElementId:"",txtElementName:"",cmbControlType:"0",cmbDataType:"0",txtCaption:"",txtParentElement:"0",txtMaxLength:"",txtRangeFrom:"",cbIsFrmGrid:!1,txtSizeInKB:"",txtFileExt:"",txtRangeTo:"",txtCmbCode:"",txtCmbCon:"",cmbDbShortName:"0",txtDefaultValue:""})};(0,s.useEffect)((()=>{P({txtDefaultValue:E})}),[E]);const V=async e=>{if(window.confirm("Are you sure, do you want delete this element ?")){let s={scrid:t,txtElementId:e};const a=j.DeleteElement,o={},r={hdr:{convid:(0,d.lk)(),tag:"Delete Element",orgid:"",vendid:"0"},body:s};try{const e=await x.Ay.post(a,(0,d.Yw)(r),o),l=JSON.parse((0,d.H5)(e.data));if("SUCCESS"==l.hdr.rst)setTimeout((()=>{S({AlertType:"Success",message:"Successfully updated"}),n.oR.success("Successfully updated"),setTimeout((()=>{S({AlertType:"null",message:"null"})}),600),M(),L(t),D(!1)}),300);else{let e=JSON.stringify(l.fdr[0].rstmsg);setTimeout((()=>{S({AlertType:"Error",message:e}),n.oR.error(e),setTimeout((()=>{S({AlertType:"null",message:"null"})}),600),D(!1)}),300)}}catch(l){console.log(l.message),n.oR.error("Unable to process request"),S({AlertType:"Error",message:"Unable to process request"}),D(!1)}}},z=async e=>{var l=e.txtCaption;null==e.txtCaption&&(l="");e.txtElementId;e.txtElementId;var s=e.txtFileExt;null==e.txtFileExt&&(s="");var a=e.txtMaxLength;null==e.txtMaxLength&&(a="");var o=e.txtParentElement;null!=e.txtParentElement&&"0"!=e.txtParentElement||(o="");var r=e.txtRangeFrom;null==e.txtRangeFrom&&(r="");var c=e.txtRangeTo;null==e.txtRangeTo&&(c="");var m=e.txtSizeInKB;null==e.txtSizeInKB&&(m="");var i=e.cbIsFrmGrid;null==e.cbIsFrmGrid&&(i=!1);let h={cmbControlType:e.cmbControlType,cmbDataType:e.cmbDataType,scrid:t,txtCaption:l,txtElementId:A("txtElementId"),txtElementName:e.txtElementName,txtFileExt:s,txtMaxLength:a,txtParentElement:o,txtRangeFrom:r,txtRangeTo:c,cbIsFrmGrid:i,txtSizeInKB:m,txtCmbCode:e.txtCmbCode,txtCmbCon:e.txtCmbCon,cmbDbShotName:e.cmbDbShortName,txtDefaultValue:e.txtDefaultValue};const u={},p={hdr:{convid:(0,d.lk)(),tag:"Update Element",orgid:"",vendid:"0"},body:h},b=j.UpdateElement;try{const e=await x.Ay.post(b,(0,d.Yw)(p),u),l=JSON.parse((0,d.H5)(e.data));if(console.log(l),"SUCCESS"==l.hdr.rst)setTimeout((()=>{S({AlertType:"Success",message:"Successfully updated"}),n.oR.success("Successfully updated"),setTimeout((()=>{S({AlertType:"null",message:"null"})}),600),M(),L(t),D(!1)}),300);else{let e=JSON.stringify(l.fdr[0].rstmsg);setTimeout((()=>{S({AlertType:"Error",message:e}),n.oR.error(e),setTimeout((()=>{S({AlertType:"null",message:"null"})}),600),D(!1)}),300)}}catch(N){console.log(N.message),n.oR.error("Unable to process request"),S({AlertType:"Error",message:"Unable to process request"}),D(!1)}};try{var G,K,Y,q,U;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{children:[I?(0,p.jsx)(r.A,{}):"",(0,p.jsx)(o.A,{alert:F})]}),(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"col-md-4",children:(0,p.jsx)("form",{onSubmit:w(z),autoComplete:"off",children:(0,p.jsxs)("div",{className:"row",children:[(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsx)("label",{htmlFor:"txtElementName",className:"form-label",children:"Element Name"}),(0,p.jsx)("input",{...R("txtElementName"),type:"text",className:"form-control"}),(0,p.jsx)("p",{children:null===(G=k.txtElementName)||void 0===G?void 0:G.message})]}),(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsx)("label",{htmlFor:"txtCaption",className:"form-label",children:"Caption"}),(0,p.jsx)("input",{...R("txtCaption"),type:"text",className:"form-control"}),(0,p.jsx)("p",{children:null===(K=k.txtCaption)||void 0===K?void 0:K.message})]}),(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsx)("label",{htmlFor:"cmbControlType",className:"form-label",children:"Control Type"}),(0,p.jsxs)("select",{...R("cmbControlType"),className:"form-control",onChange:B,children:[(0,p.jsx)("option",{value:"0",children:"- Select -"}),l.map((e=>(0,p.jsx)("option",{value:e.v,children:e.v},e.k)))]}),(0,p.jsx)("p",{children:null===(Y=k.cmbControlType)||void 0===Y?void 0:Y.message})]}),(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsx)("label",{htmlFor:"cmbDataType",className:"form-label",children:"Data Type"}),(0,p.jsxs)("select",{...R("cmbDataType"),className:"form-control",children:[(0,p.jsx)("option",{value:"0",children:"- Select -"}),h.map((e=>(0,p.jsx)("option",{value:e.v,children:e.v},e.k)))]}),(0,p.jsx)("p",{children:null===(q=k.cmbDataType)||void 0===q?void 0:q.message})]}),(0,p.jsxs)("div",{className:"col-md-3",children:[(0,p.jsx)("label",{htmlFor:"txtMaxLength",className:"form-label",children:"Max Length"}),(0,p.jsx)("input",{...R("txtMaxLength"),type:"text",className:"form-control"}),(0,p.jsx)("p",{children:null===(U=k.txtMaxLength)||void 0===U?void 0:U.message})]}),(0,p.jsxs)("div",{className:"col-md-3 pad-top-2-5em",children:[(0,p.jsx)("input",{...R("cbIsFrmGrid"),type:"checkbox"}),"\xa0\xa0",(0,p.jsx)("label",{htmlFor:"cbIsFrmGrid",className:"form-label",children:"Form Grid"})]}),(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsx)("label",{htmlFor:"txtParentElement",className:"form-label",children:"Parent Element"}),(0,p.jsxs)("select",{...R("txtParentElement"),type:"text",className:"form-control",children:[(0,p.jsx)("option",{value:"0",children:"- Select -"}),v.map((e=>(0,p.jsx)("option",{value:e.ElmName,children:e.ElmName},e.ElementId)))]})]}),(0,p.jsx)("div",{id:"divRange",className:"dispNone1",children:(0,p.jsxs)("div",{className:"row",children:[(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsx)("label",{htmlFor:"txtRangeFrom",className:"form-label",children:"Range From"}),(0,p.jsx)("input",{...R("txtRangeFrom"),type:"text",className:"form-control"})]}),(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsx)("label",{htmlFor:"txtRangeTo",className:"form-label",children:"Range To"}),(0,p.jsx)("input",{...R("txtRangeTo"),type:"text",className:"form-control"})]})]})}),(0,p.jsx)("div",{id:"divFile",className:"dispNone1",children:(0,p.jsxs)("div",{className:"row",children:[(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsx)("label",{htmlFor:"txtSizeInKB",className:"form-label",children:"Size(KB)"}),(0,p.jsx)("input",{...R("txtSizeInKB"),type:"text",className:"form-control"})]}),(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsx)("label",{htmlFor:"txtFileExt",className:"form-label",children:"File Ext."}),(0,p.jsx)("input",{...R("txtFileExt"),type:"text",className:"form-control"})]})]})}),(0,p.jsx)("div",{id:"divCmbConfig",className:"dispNone1",children:(0,p.jsxs)("div",{className:"row",children:[(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsx)("label",{htmlFor:"txtCmbCode",className:"form-label",children:"Combo Code"}),(0,p.jsx)("input",{...R("txtCmbCode"),type:"text",className:"form-control"})]}),(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsx)("label",{htmlFor:"cmbDbShortName",className:"form-label",children:"Combo Db Connection"}),(0,p.jsxs)("select",{...R("cmbDbShortName"),className:"form-control",children:[(0,p.jsx)("option",{value:"0",children:"-select-"}),C.map((e=>(0,p.jsx)("option",{value:e.k,children:e.k},e.v)))]})]}),(0,p.jsxs)("div",{className:"col-md-12",children:[(0,p.jsx)("label",{htmlFor:"txtCmbCon",className:"form-label",children:"Combo condition / Query"}),(0,p.jsx)("input",{...R("txtCmbCon"),type:"text",className:"form-control"})]}),(0,p.jsxs)("div",{className:"col-md-12",children:[(0,p.jsx)("label",{htmlFor:"txtDefaultValue",className:"form-label",children:"Default Value"}),(0,p.jsx)("input",{...R("txtDefaultValue"),type:"text",className:"form-control"})]})]})}),(0,p.jsxs)("div",{className:"row pad-top-15",children:[(0,p.jsx)("div",{className:"col-md-3",children:(0,p.jsx)("button",{type:"submit",className:"btn btn-success",children:"Submit"})}),(0,p.jsx)("div",{className:"col-md-3",children:(0,p.jsx)("button",{type:"button",className:"btn btn-warning",onClick:M,children:"Reset"})}),(0,p.jsx)("div",{className:"col-md-6",children:(0,p.jsx)("input",{...R("txtElementId"),type:"text",className:"form-control",readonly:"readonly"})})]})]})})}),(0,p.jsx)("div",{className:"col-md-8",children:(0,p.jsxs)("table",{className:"lst-grid",children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{children:"Id"}),(0,p.jsx)("th",{children:"Name / Caption"}),(0,p.jsx)("th",{children:"Parent"}),(0,p.jsx)("th",{children:"Ctl / Data"}),(0,p.jsx)("th",{children:"Length"}),(0,p.jsx)("th",{children:"Property"}),(0,p.jsx)("th",{children:"Manage"})]})}),(0,p.jsx)("tbody",{children:(0,p.jsx)(b,{elmList:v,setElementValue:function(e){(async(e,t)=>{const l=await(0,u.b)(e,t);T(l.body.defaultvalue)})(t,e.ElementId),P({txtElementId:e.ElementId,txtElementName:e.ElmName,cmbControlType:e.ControlType,cmbDataType:e.DataType,txtCaption:e.Caption,txtParentElement:e.ParentElmName,txtMaxLength:e.MaxLength,txtRangeFrom:e.RangeFrom,txtRangeTo:e.RangeTo,cbIsFrmGrid:e.IsFrmGrid,txtSizeInKB:e.SizeInKB,txtFileExt:e.FileExt,txtCmbCode:e.CmbCod,txtCmbCon:e.CmbCon,cmbDbShortName:e.ConStr,txtDefaultValue:E})},delElement:V})})]})})]})]})}catch(J){console.log(J.message)}}},89312:(e,t,l)=>{l.d(t,{R:()=>o,b:()=>r});var s=l(80511),a=l(84756);const n=l(82585).F,o=async(e,t)=>{let l;const o=n.Elementlist,r={hdr:{convid:(0,s.lk)(),tag:"Elementlist",orgid:"",vendid:"0"},body:{scrid:e,stgid:t}},c=o;return await a.Ay.post(c,(0,s.Yw)(r),{}).then((function(e){const t=JSON.parse((0,s.H5)(e.data));l=t})),l},r=async(e,t)=>{let l;const o={scrid:e,txtElementId:t},r={hdr:{convid:(0,s.lk)(),tag:"Element default value",orgid:"",vendid:"0"},body:o};console.log(o);return await a.Ay.post(n.ElementDefaultValue,(0,s.Yw)(r),{}).then((function(e){const t=JSON.parse((0,s.H5)(e.data));l=t})),l}}}]);
//# sourceMappingURL=724.1d0ac748.chunk.js.map