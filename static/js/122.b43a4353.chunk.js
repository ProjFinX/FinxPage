"use strict";(self.webpackChunkfinxapp=self.webpackChunkfinxapp||[]).push([[122],{41122:(e,s,t)=>{t.r(s),t.d(s,{default:()=>p});var a=t(65043),r=t(24858),l=t(18403),n=t(73033),o=t(57492),d=t(84756),c=t(80511),i=t(47046),m=t(8204),x=t(86971),h=t(99453),j=t(2459),N=t(64196),b=t(70579);const u=n.Ik().shape({txtUsername:n.Yj().required("User Email  can not be empty").email("Pls provide Valid  Email id"),txtFirstname:n.Yj().required("First Name can not be empty").max(50,"First name  Max lenght is 50 "),txtLastname:n.Yj().required("Last name not be empty").max(50,"Last name  Max lenght is 50 "),txtPhone:n.Yj().required("Phone no. can not be empty").max(15,"Phone no. Max lenght is 15 "),cmbCountryId:n.Yj().required("Please select the Country"),txtPassword:n.Yj().required("Password can not be empty").min(3,"Password Min length is 3").max(20,"Password. Max lenght is 20 "),txtConformPassword:n.Yj().oneOf([n.KR("txtPassword"),null],"Not matched with password")}),p=()=>{var e,s,t,n,p,v,y;const[g,f]=(0,a.useState)([]),[w,P]=(0,a.useState)([]);(0,a.useEffect)((()=>{(async()=>{const e=await(0,o.n)("|CUN|","");P(e.body.cun),console.log("rerendering method")})(),Y()}),[]);const{register:U,handleSubmit:C,formState:{errors:F},reset:I}=(0,r.mN)({resolver:(0,l.t)(u)}),[S,k]=(0,a.useState)(""),[L,A]=(0,a.useState)(!1);const E=(0,x.Zp)(),Y=async()=>{const e=await(0,h.I)();console.log(JSON.stringify(e)),f(e.body.Users),console.log(JSON.stringify(e.body.Users))},O=(e,s)=>{k({AlertType:e,message:s})};return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("section",{className:"vh-100",children:(0,b.jsx)("div",{className:"container h-100",children:(0,b.jsxs)("div",{className:"card text-black",style:{borderRadius:"25px"},children:[(0,b.jsx)("div",{className:"card-header",children:(0,b.jsx)("strong",{className:"card-title",children:"Create New User"})}),(0,b.jsxs)("div",{className:"card-body p-md-5",children:[L?(0,b.jsx)(i.A,{}):"",(0,b.jsx)(m.A,{alert:S}),(0,b.jsxs)("form",{onSubmit:C((async e=>{A(!0),console.log("Enter Create new branch api call"),console.log(e);const s={hdr:{convid:(0,c.lk)(),tag:"NewUser",orgid:"",vendid:"0"},body:e},t={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}};console.log(t);try{const e=await d.Ay.post("/cmpstp/newusr",(0,c.Yw)(s),t),a=JSON.parse((0,c.H5)(e.data));console.log(a),"FAILED"==a.hdr.rst||"ERROR"==a.hdr.rst?(O("Error",JSON.stringify(a.fdr)),A(!1)):(O("Success",JSON.stringify(a.fdr[0])),A(!1),E("/Home"))}catch(a){console.log(a.message),O("Error","Unable to process request"),A(!1)}})),autocomplete:"off",children:[(0,b.jsxs)("div",{className:"row",children:[(0,b.jsx)("div",{className:"col-sm",children:(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsxs)("label",{htmlFor:"txtUsername",className:"form-label",children:[" ","User Email"]}),(0,b.jsx)("input",{...U("txtUsername"),type:"email",className:"form-control",placeholder:"User Email"}),(0,b.jsx)("p",{children:null===(e=F.txtUsername)||void 0===e?void 0:e.message})]})}),(0,b.jsx)("div",{className:"col-sm",children:(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsxs)("label",{htmlFor:"txtUserId",className:"form-label",children:[" ","User Id"]}),(0,b.jsx)("input",{...U("txtUserId"),disabled:"disabled",readonly:"readonly",className:"form-control"})]})})]}),(0,b.jsxs)("div",{className:"row",children:[(0,b.jsx)("div",{className:"col-sm",children:(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsxs)("label",{htmlFor:"txtFirstname",className:"form-label",children:[" ","First name"]}),(0,b.jsx)("input",{...U("txtFirstname"),type:"text",className:"form-control",placeholder:"User Email"}),(0,b.jsx)("p",{children:null===(s=F.txtFirstname)||void 0===s?void 0:s.message})]})}),(0,b.jsx)("div",{className:"col-sm",children:(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("label",{htmlFor:"txtLastname",className:"form-label",children:"Last Name"}),(0,b.jsx)("input",{...U("txtLastname"),type:"text",className:"form-control"}),(0,b.jsx)("p",{children:null===(t=F.txtLastname)||void 0===t?void 0:t.message})]})})]}),(0,b.jsxs)("div",{className:"row",children:[(0,b.jsx)("div",{className:"col-sm",children:(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsxs)("label",{htmlFor:"txtPhone",className:"form-label",children:[" ","Phone No."]}),(0,b.jsx)("input",{...U("txtPhone"),type:"text",className:"form-control"}),(0,b.jsx)("p",{children:null===(n=F.txtPhone)||void 0===n?void 0:n.message})]})}),(0,b.jsx)("div",{className:"col-sm",children:(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("label",{htmlFor:"cmbCountryId",className:"form-label",children:"Country"}),(0,b.jsxs)("select",{...U("cmbCountryId"),className:"form-control",children:[(0,b.jsx)("option",{value:"",children:"- Select -"}),w.map((e=>(0,b.jsx)("option",{value:e.k,children:e.v},e.k)))]}),(0,b.jsx)("p",{children:null===(p=F.cmbCountryId)||void 0===p?void 0:p.message})]})})]}),(0,b.jsxs)("div",{className:"row",children:[(0,b.jsx)("div",{className:"col-sm",children:(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsxs)("label",{htmlFor:"txtPassword",className:"form-label",children:[" ","Password"]}),(0,b.jsx)("input",{...U("txtPassword"),type:"password",className:"form-control"}),(0,b.jsx)("p",{children:null===(v=F.txtPassword)||void 0===v?void 0:v.message})]})}),(0,b.jsx)("div",{className:"col-sm",children:(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsxs)("label",{htmlFor:"txtConformPassword",className:"form-label",children:[" ","Confirm Password"]}),(0,b.jsx)("input",{...U("txtConformPassword"),type:"password",className:"form-control"}),(0,b.jsx)("p",{children:null===(y=F.txtConformPassword)||void 0===y?void 0:y.message})]})})]}),(0,b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]}),(0,b.jsx)(j.Ze,{style:{width:1200,height:550},children:(0,b.jsxs)(N.A,{striped:!0,bordered:!0,hover:!0,children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"text-center",children:"Id"}),(0,b.jsx)("th",{className:"text-center",children:"User Id"}),(0,b.jsx)("th",{className:"text-center",children:"First name"}),(0,b.jsx)("th",{className:"text-center",children:"Phone No."}),(0,b.jsx)("th",{className:"text-center",children:"Country"}),(0,b.jsx)("th",{children:(0,b.jsxs)("button",{className:"btn btn-success",onClick:()=>{I({txtUserId:"",txtUsername:"",txtFirstname:"",txtLastname:"",txtPhone:"",cmbCountryId:"",txtPassword:"",txtConformPassword:""})},children:[" ",(0,b.jsx)("i",{className:"bi bi-table"})," Add"," "]})})]})}),(0,b.jsx)("tbody",{children:g&&g.map((e=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:e.UserId}),(0,b.jsx)("td",{children:e.Username}),(0,b.jsx)("td",{children:e.FName}),(0,b.jsx)("td",{children:e.LName}),(0,b.jsx)("td",{children:e.LName}),(0,b.jsx)("td",{children:(0,b.jsxs)("button",{className:"btn btn-primary",onClick:()=>{var s;s=e,console.log(s),I({txtUserId:s.UserId,txtUsername:s.Username,txtFirstname:s.FName,txtLastname:s.LName,txtPhone:s.tleid,cmbCountryId:s.tleid,txtPassword:s.tleid,txtConformPassword:s.tleid})},children:[" ",(0,b.jsx)("i",{className:"bi bi-pen"})," Edit"]})})]})))})]})})]})})})})}},99453:(e,s,t)=>{t.d(s,{I:()=>n,X:()=>o});t(65043);var a=t(80511),r=t(84756);const l=t(82585).F,n=async()=>{let e;const s=l.UserList,t={hdr:{convid:(0,a.lk)(),tag:"brchlst",orgid:"",vendid:"0"},body:{}},n={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}},o=s;return await r.Ay.post(o,(0,a.Yw)(t),n).then((function(s){const t=JSON.parse((0,a.H5)(s.data));console.log(t),e=t})),e},o=async()=>{let e;const s=l.AllUserList,t={hdr:{convid:(0,a.lk)(),tag:"brchlst",orgid:"",vendid:"0"},body:{}},n={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}},o=s;return await r.Ay.post(o,(0,a.Yw)(t),n).then((function(s){const t=JSON.parse((0,a.H5)(s.data));console.log(t),e=t})),e}}}]);
//# sourceMappingURL=122.b43a4353.chunk.js.map