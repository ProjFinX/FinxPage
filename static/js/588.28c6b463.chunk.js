"use strict";(self.webpackChunkfinxapp=self.webpackChunkfinxapp||[]).push([[588],{95223:(e,t,a)=>{a.d(t,{Gk:()=>p,Q1:()=>b,Sk:()=>D,_8:()=>h,hC:()=>g,ic:()=>v,uT:()=>u});var l=a(57492),r=a(9630),s=a(82585),n=a(80511),d=a(84756),i=a(11281),o=a(91036),c={};const m=async(e,t,a,r,s,n)=>{try{const e=n.find((e=>e.fieldname==t)).elementdata,d="|"+e.cod+"|",i=/\$\#\w+\#\$/gi,o=e.con.match(i),c=e.con.replace(o[0],a(o[0].replace("$#","").replace("#$",""))),m=e.cod.toLocaleUpperCase(),_=e.cstr;let u={};u={[m]:c};const f=await(0,l.n)(d,u,_),p={};if(f.body[e.cod].length>0){p[t]=f.body[e.cod];s({...r,...p})}else{f.body[e.cod]=[],p[t]=f.body[e.cod];s({...r,...p})}}catch{console.log("Error in loading combo data ")}},_=e=>{const[t,a]=e.split("|");return{fileId:t,fileName:a}},u=()=>{c.reloadCombo=m};const f=e=>`${e.getFullYear()}-${("0"+(e.getMonth()+1)).slice(-2)}-${("0"+e.getDate()).slice(-2)}`,p=(e,t,a,l,r,s,n)=>{!function(e,t){var a=Array.prototype.slice.call(arguments,2);t[e].apply(t,a)}(e,c,t,a,l,r,s,n)},g=async(e,t,a,l,c,m,u)=>{let p=m.setEventLoading;try{var g={};let y={};for(var v in y=i.A.ProcessStageGridData(m),p(!0),y={_gridData:JSON.stringify(y)},t=i.A.ProcessStageelementsData(m.stageElements.elms,"",m),e.fil)e.fil.hasOwnProperty(v)&&(t[v]={},t[v].id=e.fil[v].docid,t[v].name=m.getValues(v)[0].name);t={...t,...y},g.scrverid=e.qdet.scrverid,g.scrid=e.qdet.scrid,g.stgid=e.qdet.stgid,g.method=a,g.qid=e.qdet.qid,g._rid="",g._pgr_rid="";var b=(0,r.p)("Call:"+a,t,"_sev",g);const C=s.F;let j=await d.Ay.post(C.ServerEvent,(0,n.Yw)(b)),R=JSON.parse((0,n.H5)(j.data));if(200==j.status&&"SUCCESS"==R.hdr.rst){let t={...e};if(R.body._reloadcmb){let e={},t="_reloadcmb";R.body[t].forEach((t=>{let a={};a[t.elm]=t.data,e={...e,...a}}));const a={...m.combodata,...e};console.log(a),await m.setComboData(a)}R.body._mltsrch&&(m.setMultiSearchData(R.body._mltsrch),m.setModalVisible(!0)),requestAnimationFrame((()=>{for(let i in R.body){var a,r,s;if("_prp"==i&&R.body._prp.forEach(((e,a)=>{const l=Object.keys(e)[0];t.stg.prp[l]=R.body._prp[a][l]})),"gridData"==i)for(let e in R.body.gridData){let t=Object.keys(R.body.gridData[e]).map((t=>({...R.body.gridData[e][t],_IsDel:!1})));const a=[];l[e].current.api.forEachNode((e=>a.push(e.data))),l[e].current.api.applyTransaction({remove:a}),l[e].current.api.applyTransaction({add:t}),l[e].current.api.autoSizeAllColumns()}if(4==(null===(a=m.cntrData[i])||void 0===a?void 0:a.ty)){const a=new Date(R.body[i]),l=f(a);e.stg.elms[i]&&c(i,l),e.stg.elms[i]&&(t.elmsData=t.elmsData||{},t.elmsData[i]=l)}else if(9==(null===(r=m.cntrData[i])||void 0===r?void 0:r.ty)){var n,d;let a=[];a.push({id:R.body[i]&&(null===(n=_(R.body[i]))||void 0===n?void 0:n.fileId),name:R.body[i]&&(null===(d=_(R.body[i]))||void 0===d?void 0:d.fileName),mode:"Qdata"}),e.stg.elms[i]?c(i,a,{shouldValidate:!0}):e.elms[i]&&(t.elmsData=t.elmsData||{},t.elmsData[i]=a)}else 3==(null===(s=m.cntrData[i])||void 0===s?void 0:s.ty)?e.stg.elms[i]?c(i,R.body[i],!0):e.elms[i]&&(t.elmsData=t.elmsData||{},t.elmsData[i]=R.body[i]):e.stg.elms[i]?c(i,R.body[i],{shouldValidate:!0}):e.elms[i]&&(t.elmsData=t.elmsData||{},t.elmsData[i]=R.body[i])}u(t)}))}if(200==j.status&&"STOP"==R.hdr.rst){for(let t in R.body){var D,h;if("gridData"==t)for(let e in R.body.gridData){let t=Object.keys(R.body.gridData[e]).map((t=>({...R.body.gridData[e][t],_IsDel:!1})));l[e].current.api.applyTransaction({add:t}),l[e].current.api.autoSizeAllColumns()}if("_reloadcmb"==t){let e={};R.body[t].forEach((t=>{let a={};a[t.elm]=t.data,e={...e,...a}}));const a={...m.combodata,...e};console.log(a),m.setComboData(a)}if(4==(null===(D=m.cntrData[t])||void 0===D?void 0:D.ty)){const a=new Date(R.body[t]),l=f(a);e.stg.elms[t]&&c(t,l)}else if(9==(null===(h=m.cntrData[t])||void 0===h?void 0:h.ty)){var E,x;let a=[];a.push({id:null===(E=_(R.body[t]))||void 0===E?void 0:E.fileId,name:null===(x=_(R.body[t]))||void 0===x?void 0:x.fileName,mode:"Qdata"}),e.stg.elms[t]&&c(t,a)}else e.stg.elms[t]&&c(t,R.body[t])}R.fdr.forEach((e=>{p(!1),o.oR.error(e.rstmsg,"Error!",2e3)}))}p(!1)}catch(y){p(!1)}},v=async(e,t,a,l,i,c,m,u)=>{let p=c.setEventLoading;try{var g={};p(!0),t={_othParams:{...u}},g.scrverid=e.qdet.scrverid,g.scrid=e.qdet.scrid,g.stgid=e.qdet.stgid,g.method=a,g.qid=e.qdet.qid,g._rid="",g._pgr_rid="";var v=(0,r.p)("Call:"+a,t,"_sev",g);const x=s.F;let y=await d.Ay.post(x.ServerEvent,(0,n.Yw)(v)),C=JSON.parse((0,n.H5)(y.data));if(200==y.status&&"SUCCESS"==C.hdr.rst){let t={...e};if(C.body._reloadcmb){let e={},t="_reloadcmb";C.body[t].forEach((t=>{let a={};a[t.elm]=t.data,e={...e,...a}}));const a={...c.combodata,...e};console.log(a),await c.setComboData(a)}C.body._mltsrch&&(c.setModalVisible(!0),c.setMultiSearchData(C.body._mltsrch)),requestAnimationFrame((()=>{for(let o in C.body){var a,r,s;if("_prp"==o&&C.body._prp.forEach(((e,a)=>{const l=Object.keys(e)[0];t.stg.prp[l]=C.body._prp[a][l]})),"gridData"==o)for(let e in C.body.gridData){let t=Object.keys(C.body.gridData[e]).map((t=>({...C.body.gridData[e][t],_IsDel:!1})));l[e].current.api.applyTransaction({add:t}),l[e].current.api.autoSizeAllColumns()}if(4==(null===(a=c.cntrData[o])||void 0===a?void 0:a.ty)){const a=new Date(C.body[o]),l=f(a);e.stg.elms[o]?i(o,l):e.elms[o]&&(t.elmsData=t.elmsData||{},t.elmsData[o]=l)}else if(9==(null===(r=c.cntrData[o])||void 0===r?void 0:r.ty)){var n,d;let a=[];a.push({id:C.body[o]&&(null===(n=_(C.body[o]))||void 0===n?void 0:n.fileId),name:C.body[o]&&(null===(d=_(C.body[o]))||void 0===d?void 0:d.fileName),mode:"Qdata"}),e.stg.elms[o]?i(o,a):e.elms[o]&&(t.elmsData=t.elmsData||{},t.elmsData[o]=a)}else 3==(null===(s=c.cntrData[o])||void 0===s?void 0:s.ty)?e.stg.elms[o]?i(o,C.body[o],!0):e.elms[o]&&(t.elmsData=t.elmsData||{},t.elmsData[o]=C.body[o]):e.stg.elms[o]?i(o,C.body[o]):e.elms[o]&&(t.elmsData=t.elmsData||{},t.elmsData[o]=C.body[o])}m(t)}))}if(200==y.status&&"STOP"==C.hdr.rst){for(let t in C.body){var b,D;if("gridData"==t)for(let e in C.body.gridData){let t=Object.keys(C.body.gridData[e]).map((t=>({...C.body.gridData[e][t],_IsDel:!1})));l[e].current.api.applyTransaction({add:t}),l[e].current.api.autoSizeAllColumns()}if("_reloadcmb"==t){let e={};C.body[t].forEach((t=>{let a={};a[t.elm]=t.data,e={...e,...a}}));const a={...c.combodata,...e};console.log(a),c.setComboData(a)}if(4==(null===(b=c.cntrData[t])||void 0===b?void 0:b.ty)){const a=new Date(C.body[t]),l=f(a);e.stg.elms[t]&&i(t,l)}else if(9==(null===(D=c.cntrData[t])||void 0===D?void 0:D.ty)){var h,E;let a=[];a.push({id:null===(h=_(C.body[t]))||void 0===h?void 0:h.fileId,name:null===(E=_(C.body[t]))||void 0===E?void 0:E.fileName,mode:"Qdata"}),e.stg.elms[t]&&i(t,a)}else e.stg.elms[t]&&i(t,C.body[t])}C.fdr.forEach((e=>{p(!1),o.oR.error(e.rstmsg,"Error!",2e3)}))}p(!1)}catch(x){p(!1)}},b=async(e,t,a,l,c,m,_,u,f,p,g)=>{var v={};let b={};b=i.A.ProcessStageGridData(_),b={_gridData:JSON.stringify(b)},t=i.A.ProcessStageelementsData(_.stageElements.elms,"",_),t={...t,...b},v.scrverid=e.qdet.scrverid,v.scrid=e.qdet.scrid,v.stgid=e.qdet.stgid,v.method=a,v.qid=e.qdet.qid,v._rid=u,v._pgr_rid="";var D=(0,r.p)("Call:"+a,t,"_sev",v);const h=s.F;let E=await d.Ay.post(h.ServerEvent,(0,n.Yw)(D)),x=JSON.parse((0,n.H5)(E.data)),y={...e};if(200==E.status&&"SUCCESS"==x.hdr.rst){if(x.body._reloadcmb){let e={},t="_reloadcmb";x.body[t].forEach((t=>{let a={};a[t.elm]=t.data,e={...e,...a}}));const a={..._.combodata,...e};console.log(a),await _.setComboData(a)}for(let t in x.body){if("gridData"===t)for(let e in x.body.gridData){let t=[];l[e].current.api.forEachNode((e=>t.push(e.data))),Object.keys(x.body.gridData).forEach((e=>{for(let a in x.body.gridData[e])t=t.map((t=>t._rid===a?{...t,...x.body.gridData[e][a]}:t))})),l[e].current.api.applyTransaction({update:t}),l[e].current.columnApi.autoSizeAllColumns()}e.stg.elms[t]?e.stg.elms[t]&&c(t,x.body[t]):e.elms[t]&&(y.elmsData=y.elmsData||{},y.elmsData[t]=x.body[t])}}if(200==E.status&&"STOP"==x.hdr.rst){for(let t in x.body){if("gridData"==t)for(let e in x.body.gridData){let t=[];l[e].current.api.forEachNode((e=>t.push(e.data)));Object.keys(x.body.gridData).map((e=>{const a=Object.keys(x.body.gridData[e])[0],l=x.body.gridData[e][a];t.push(l)}));l[e].current.api.setRowData(t),l[e].current.columnApi.autoSizeAllColumns()}e.stg.elms[t]?e.stg.elms[t]&&c(t,x.body[t]):e.elms[t]&&(y.elmsData=y.elmsData||{},y.elmsData[t]=x.body[t])}x.fdr.forEach((e=>{o.oR.error(e.rstmsg,"Error!",2e3)}))}g(y)},D=async(e,t,a,l,c,m,_,u,f)=>{var p={};let g={};g=i.A.ProcessStageGridData(_),g={_gridData:JSON.stringify(g)},t=i.A.ProcessStageelementsData(_.stageElements.elms,"",_),t={...t,...g},p.scrverid=e.qdet.scrverid,p.scrid=e.qdet.scrid,p.stgid=e.qdet.stgid,p.method=a,p.qid=e.qdet.qid,p._rid=u,p._pgr_rid="";var v=(0,r.p)("Call:"+a,t,"_sev",p);const b=s.F;let D=await d.Ay.post(b.ServerEvent,(0,n.Yw)(v)),h=JSON.parse((0,n.H5)(D.data));if(200==D.status&&"SUCCESS"==h.hdr.rst)for(let r in h.body){if("gridData"==r)for(let e in h.body.gridData){let t=[];l[e].current.api.forEachNode((e=>t.push(e.data)));Object.keys(h.body.gridData).map((e=>{const a=Object.keys(h.body.gridData[e])[0],l={...h.body.gridData[e][a],_IsDel:!1};t.push(l)}));l[e].current.api.setRowData(t),l[e].current.columnApi.autoSizeAllColumns()}e.stg.elms[m].child[f].child[r]&&c(r,h.body[r])}if(200==D.status&&"STOP"==h.hdr.rst){for(let t in h.body){if("gridData"==t)for(let e in h.body.gridData){let t=[];l[e].current.api.forEachNode((e=>t.push(e.data)));Object.keys(h.body.gridData).map((e=>{const a=Object.keys(h.body.gridData[e])[0],l=h.body.gridData[e][a];t.push(l)}));l[e].current.api.setRowData(t),l[e].current.columnApi.autoSizeAllColumns()}e.stg.elms[t]&&c(t,h.body[t])}h.fdr.forEach((e=>{o.oR.error(e.rstmsg,"Error!",2e3)}))}},h=async(e,t,a,l,c,m,_,u,f,p)=>{var g={};let v={};v=i.A.ProcessStageGridData(_),v={_gridData:JSON.stringify(v)},t=i.A.ProcessStageelementsData(_.stageElements.elms,"",_),t={...t,...v},g.scrverid=e.qdet.scrverid,g.scrid=e.qdet.scrid,g.stgid=e.qdet.stgid,g.method=a,g.qid=e.qdet.qid,g._rid=u,g._pgr_rid="";var b=(0,r.p)("Call:"+a,t,"_sev",g);const D=s.F;let h=await d.Ay.post(D.ServerEvent,(0,n.Yw)(b)),E=JSON.parse((0,n.H5)(h.data));if(200==h.status&&"SUCCESS"==E.hdr.rst)for(let r in E.body)e.stg.elms[m].child[r]&&p.setDataValue(r,E.body[r]);if(200==h.status&&"STOP"==E.hdr.rst){for(let t in E.body){if("gridData"==t)for(let e in E.body.gridData){let t=[];l[e].current.api.forEachNode((e=>t.push(e.data)));Object.keys(E.body.gridData).map((e=>{const a=Object.keys(E.body.gridData[e])[0],l=E.body.gridData[e][a];t.push(l)}));l[e].current.api.setRowData(t),l[e].current.columnApi.autoSizeAllColumns()}e.stg.elms[t]&&c(t,E.body[t])}E.fdr.forEach((e=>{o.oR.error(e.rstmsg,"Error!",2e3)}))}}},11281:(e,t,a)=>{a.d(t,{A:()=>l});const l={ProcessStageelementsData:(e,t,a)=>{if(a){const{getValues:n,stageGridRefs:d,stageElements:i,cntrData:o,eDefHldr:c}=a;let m={};for(const u in i.elms)if("object"===typeof e[u]&&null!==e[u])if("14"==o[u].ty)m[u]=_(e[u]);else if(10===o[u].ty);else if(9===o[u].ty){var l;m[u]=null===(l=n(u))||void 0===l?void 0:l[0]}else o[u].ty,m[u]=n(u);for(const f in null===c||void 0===c?void 0:c.elmsData){var r,s;if(o[f]&&9===(null===o||void 0===o||null===(r=o[f])||void 0===r?void 0:r.ty))m[f]=null===(s=c.elmsData[f])||void 0===s?void 0:s[0];else m[f]=c.elmsData[f]}function _(e){const t={};for(const a in e.child)if("object"===typeof e.child[a]&&"10"!=o[a].ty){const e=n(a);t[a]=e}return t}return m}},ProcessStageGridData:e=>{if(e){const{getValues:a,stageGridRefs:l,stageElements:r,cntrData:s}=e;let n={};for(var t in l){let e={};l[t].current.api.forEachNode((t=>Object.assign(e,{[t.data._rid]:t.data}))),n[t]=e}return n}}}},88487:(e,t,a)=>{a.d(t,{c:()=>l});const l=(0,a(65043).createContext)(null)},35130:(e,t,a)=>{a.r(t),a.d(t,{default:()=>T});var l=a(65043),r=a(51318),s=(a(52145),a(88487)),n=a(24858),d=a(95223),i=a(9630),o=a(47046),c=a(82585),m=a(63632),_=a(80511),u=a(84756),f=a(57492),p=a(86971),g=a(70579);const v=e=>{let{localUrl:t,postUrl:a}=e;const[r,s]=(0,l.useState)([]),[n,d]=(0,l.useState)(0),[i,o]=(0,l.useState)(1),c=(0,l.useRef)(null);(0,l.useEffect)((()=>{(async()=>{try{s([t])}catch(e){console.error(e)}})()}),[t]);return(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:"row",children:(0,g.jsx)("div",{className:"pdf-viewer",children:(0,g.jsxs)("div",{className:"pdf-controls",children:[(0,g.jsx)("button",{className:"pdf-control",onClick:()=>{i<2&&o(i+.1)},children:"Zoom In"}),(0,g.jsx)("button",{className:"pdf-control",onClick:()=>{i>.5&&o(i-.1)},children:"Zoom Out"})]})})}),(0,g.jsx)("div",{className:"row",style:{display:"flex",justifyContent:"center"},children:r.length>0?(0,g.jsx)("img",{src:r[n],ref:c,style:{width:100*i+"%"}}):(0,g.jsx)("p",{children:"Loading image..."})})]})};var b=a(62774);const D=function(e,t){return(0,g.jsxs)("div",{className:"pdf-viewer",children:[(0,g.jsx)("div",{className:"pdf-controls",children:(0,g.jsx)("button",{className:"pdf-control",onClick:function(){const t=document.createElement("a");t.href=e.url,t.download=e.filename,t.click(),URL.revokeObjectURL(e.url)},children:(0,g.jsx)(b.WCW,{})})}),"File cannot be viewed , Unsupported format !"]})};var h=a(24653),E=a(97806),x=a(6584);h.EA.workerSrc="/FinxPage/js/pdf.worker.min.mjs";const y=function(e,t){const[a,r]=(0,l.useState)(null),[s,n]=(0,l.useState)(1),[d,i]=(0,l.useState)(1);function o(e){i(e)}return(0,g.jsxs)("div",{className:"pdf-viewer",children:[(0,g.jsxs)("div",{className:"pdf-controls",children:[(0,g.jsx)("button",{className:"pdf-control",onClick:function(){n(s+.1)},children:(0,g.jsx)(b.onj,{})}),(0,g.jsx)("button",{className:"pdf-control",onClick:function(){n(s-.1)},children:(0,g.jsx)(b.oHA,{})}),(0,g.jsx)("button",{className:"pdf-control",onClick:function(){const t=document.createElement("a");t.href=e.url,t.download=e.filename,t.click(),URL.revokeObjectURL(e.url)},children:(0,g.jsx)(b.WCW,{})})]}),(0,g.jsxs)("div",{className:"pdf-page-navigation",children:[(0,g.jsx)("button",{className:"pdf-page-nav-button",disabled:1===d,onClick:()=>o(d-1),children:"Previous"}),(0,g.jsxs)("span",{className:"pdf-page-number",children:["Page ",d," of ",a]}),(0,g.jsx)("button",{className:"pdf-page-nav-button",disabled:d===a,onClick:()=>o(d+1),children:"Next"})]}),(0,g.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,g.jsx)(E.A,{file:e.url,onLoadSuccess:function(e){let{numPages:t}=e;r(t)},children:(0,g.jsx)(x.A,{pageNumber:d,scale:s})})})]})},C=e=>{let{localUrl:t,postUrl:a,filename:l}=e;switch((()=>{const e=null===l||void 0===l?void 0:l.toString().split(".").pop();switch(e){case"pdf":return e;case"jpg":case"png":case"jpeg":case"jfif":return"image";default:return"other"}})()){case"image":return(0,g.jsx)(v,{localUrl:t,postUrl:a});case"pdf":return(0,g.jsx)(y,{url:t,filename:l});case"other":return(0,g.jsx)(D,{url:t,filename:l});default:return null}};var j=a(91036);const R=a.p+"static/media/accessdenied.24448e3cf29ef52be1f9.jpg",P=()=>(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:"container text-center",children:[(0,g.jsx)("h1",{children:"Access Denied"}),(0,g.jsx)("p",{children:"Sorry, you don't have access to this page"}),(0,g.jsx)("img",{className:"ms-5",src:R,alt:"Access Denied"})]})}),O=e=>{const{TimelineData:t}=e,a=e=>{const t=new Date(e);return`${t.toLocaleDateString(void 0,{year:"2-digit",month:"short",day:"numeric"})} ${t.toLocaleTimeString(void 0,{hour:"numeric",minute:"numeric",hour12:!1})}`};return(0,g.jsx)(g.Fragment,{children:(null===t||void 0===t?void 0:t.length)>0&&(0,g.jsx)("div",{id:"content ",children:(0,g.jsx)("ul",{className:"timeline",children:t.map((e=>(0,g.jsx)("li",{className:"event","data-date":a(e.MovementTime),children:(0,g.jsxs)("section",{children:[(0,g.jsx)("i",{className:"icon fas fa-map-marker-alt"}),(0,g.jsx)("div",{className:"details",children:(0,g.jsxs)("span",{className:"title",children:[e.StageFrom," - ",e.StageTo]})}),(0,g.jsx)("p",{children:e.UserComment}),(0,g.jsxs)("div",{className:"bottom",children:[(0,g.jsx)("div",{children:(0,g.jsx)("b",{children:e.RoleName})}),(0,g.jsx)("div",{children:(0,g.jsxs)("i",{children:["-",e.UserName]})})]})]})})))})})})},M=e=>{const{scrid:t,qid:a}=e,r="_cmbAction",{register:n,getValues:d,setValue:i,combodata:o,setComboData:m,elements:f,eDefHldr:p,actionHighlight:v,formState:{errors:b}}=(0,l.useContext)(s.c),[D,h]=(0,l.useState)(null);(0,l.useEffect)((()=>{(async()=>{const e={hdr:{convid:(0,_.lk)(),tag:"ReadTimeline",orgid:"",vendid:"0"},body:{scrid:t,qid:a}},l=c.F.Qmvhist;let r=await u.Ay.post(l,(0,_.Yw)(e)),s=JSON.parse((0,_.H5)(r.data));var n;console.log("time line data",s),"SUCCESS"==s.hdr.rst&&h(null===s||void 0===s||null===(n=s.body)||void 0===n?void 0:n.qremark)})()}),[t]);const E=o[r]&&Object.keys(o[r]).length>0?o[r]:[];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("ul",{className:"nav nav-pills mb-3 shadow-sm",id:"pills-tab",role:"tablist",children:[(0,g.jsx)("li",{className:"nav-item",children:(0,g.jsx)("a",{className:"nav-link active",id:"pills-home-tab","data-bs-toggle":"tab","data-bs-target":"#pills-home",href:"#pills-home",role:"tab","aria-controls":"pills-home","aria-selected":"true",children:"Action"})}),(0,g.jsx)("li",{className:"nav-item",children:(0,g.jsx)("a",{className:"nav-link",id:"pills-profile-tab","data-bs-toggle":"tab","data-bs-target":"#pills-profile",href:"#pills-profile",role:"tab","aria-controls":"pills-profile","aria-selected":"false",children:"Timeline"})})]}),(0,g.jsxs)("div",{className:"tab-content container",id:"pills-tabContent p-3",children:[(0,g.jsxs)("div",{className:"tab-pane fade show active",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab",children:[(0,g.jsxs)("select",{className:`${v} form-select mb-2`,"aria-label":"Default select example",style:{cursor:"pointer"},disabled:!1,...n(r,{}),children:[(0,g.jsx)("option",{value:"",children:"--Select Action--"},"0"),E.map((e=>(0,g.jsx)("option",{value:e.k,children:e.v},e.k)))]}),(0,g.jsx)("textarea",{className:"form-control",id:"exampleFormControlTextarea1",rows:"3",...n("_txtComment",{})})]}),(0,g.jsx)("div",{className:"tab-pane fade",id:"pills-profile",role:"tabpanel","aria-labelledby":"pills-profile-tab",children:(0,g.jsx)(O,{TimelineData:D})}),(0,g.jsx)("div",{className:"tab-pane fade third",id:"pills-contact",role:"tabpanel","aria-labelledby":"pills-contact-tab",children:(0,g.jsx)("div",{className:"form-group addinfo"})})]})]})};var A=a(18625),w=a(11281);const S=function(){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("style",{children:"\n    .loading-overlay {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background-color: rgba(255, 255, 255, 0.1);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      z-index: 9999;\n    }\n    .content-blurred {\n      filter: blur(5px);\n    }\n    .content-disabled {\n      pointer-events: auto;  /* Disables all interaction */\n    }\n  "}),(0,g.jsx)("div",{className:"loader-line"}),(0,g.jsx)("div",{className:"loading-overlay  content-disabled"})]})};var L=a(94424),k=(a(62851),a(62702),a(51448)),N=a(14282);const I=e=>{const{setValue:t,getValues:a,eDefHldr:r,stageGridRefs:n,watch:i,trigger:o,stageElements:c,cntrData:m,combodata:_,setComboData:u,setEventLoading:f,modalVisible:p,setModalVisible:v,multiSearchData:b,setMultiSearchData:D,seteDefHldr:h}=(0,l.useContext)(s.c),E={getValues:a,stageGridRefs:n,stageElements:c,cntrData:m,combodata:_,setComboData:u,setEventLoading:f,modalVisible:p,setModalVisible:v,multiSearchData:b,setMultiSearchData:D},[x,y]=(0,l.useState)(null),[C,j]=(0,l.useState)(null),[R,P]=(0,l.useState)([]),[O,M]=(0,l.useState)([]),A=()=>v(!1);(0,l.useEffect)((()=>{if(p&&b){let e=[];b.data.map((t=>{Object.keys(t).forEach((t=>{e.push({field:t,headerName:t,filter:"agTextColumnFilter",filterParams:{buttons:["reset","apply"]}})}))})),M(e),P(b.data)}}),[p,b]);return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(k.A,{show:p,onHide:A,size:"xl",children:[(0,g.jsx)(k.A.Header,{closeButton:!0,children:(0,g.jsx)(k.A.Title,{children:"Multi Search"})}),(0,g.jsxs)(k.A.Body,{children:[" ",(0,g.jsx)("div",{className:"ag-theme-alpine",style:{height:400,width:"100%"},children:p&&(0,g.jsx)(L.W6,{columnDefs:O,rowData:R,rowSelection:"single",onGridReady:e=>{y(e.api),j(e.columnApi)},pagination:!0,paginationPageSize:5})})]}),(0,g.jsxs)(k.A.Footer,{children:[(0,g.jsx)(N.A,{variant:"secondary",onClick:A,children:"Close"}),(0,g.jsx)(N.A,{variant:"primary",onClick:()=>{if(x){const e=x.getSelectedRows()[0];if(e){console.log("Selected Row Data:",e),(0,d.ic)(r,a(),b.selectmethod,n,t,E,h,e)}}A()},children:"Select"})]})]})})},U=e=>{var t;const{scrid:a,stgid:v,formKey:b,qid:D}=e,h=(0,p.Zp)(),[E,x]=(0,l.useState)(null),[y,R]=(0,l.useState)(b),[O,L]=(0,l.useState)(!1),[k,N]=(0,l.useState)(!0),U=(0,n.mN)({mode:"onSubmit"}),[T,B]=(0,l.useState)(null),[H,V]=(0,l.useState)(null),[F,q]=(0,l.useState)(),[W,G]=(0,l.useState)({}),[K,$]=(0,l.useState)([]),[z,Q]=(0,l.useState)({}),[J,Y]=(0,r.ok)(),[X,Z]=(0,l.useState)(null),[ee,te]=(0,l.useState)({}),[ae,le]=(0,l.useState)(!0),[re,se]=(0,l.useState)(null),[ne,de]=(0,l.useState)(!1),[ie,oe]=(0,l.useState)(!1),[ce,me]=(0,l.useState)(!1),[_e,ue]=(0,l.useState)([]),[fe,pe]=(0,l.useState)([]),[ge,ve]=(0,l.useState)([]),be=J.get("ver"),{register:De,setValue:he,getValues:Ee,handleSubmit:xe,watch:ye,reset:Ce,formState:je,formState:{errors:Re,isValid:Pe,isDirty:Oe,isSubmitting:Me,isSubmitted:Ae,submitCount:we}}=U,Se=e=>`${e.getFullYear()}-${("0"+(e.getMonth()+1)).slice(-2)}-${("0"+e.getDate()).slice(-2)}`,Le=e=>{document.getElementById("sidePanel").classList.toggle("show"),document.getElementById(e).classList.toggle("hide")},ke=(0,l.useCallback)((async(e,t)=>{try{var a,l,r,s,n,d,o,m,f;console.log("submit called"),t.preventDefault();const e={getValues:Ee,stageGridRefs:F,stageElements:T,cntrData:z};let g=w.A.ProcessStageelementsData(T.elms,"",e);L(!1);let v={};if(W._cmbAction&&W._cmbAction.length>0){if(!Ee("_cmbAction"))return j.oR.error("Action needs to be selected!","Error!",2e3),Le(y),x("glow-border"),void L(!0)}for(var p in v=w.A.ProcessStageGridData(e),H.fil)H.fil.hasOwnProperty(p)&&(g[p]={},g[p].id=H.fil[p].docid,g[p].name=ye(p)[0].name);v={_gridData:JSON.stringify(v)},g={...g,...v};let b=new Date;const D={_cmbAction:Ee("_cmbAction"),_txtComment:Ee("_txtComment"),_StartTime:b.toISOString()};g._QMovement=D;let E={};E.scrverid=H.qdet.scrverid,E.scrid=H.qdet.scrid,E.qid=H.qdet.qid,E.stgid=H.qdet.stgid,E.befsubmitmethod=H.stg.sev&&(null===(a=H.stg.sev)||void 0===a||null===(l=a.Screen)||void 0===l||null===(r=l.ev)||void 0===r?void 0:r.beforesubmit),E.aftsubmitmethod=H.stg.sev&&(null===(s=H.stg.sev)||void 0===s||null===(n=s.Screen)||void 0===n||null===(d=n.ev)||void 0===d?void 0:d.aftersubmit),E.stagemovemethod=H.stg.sev&&(null===(o=H.stg.sev)||void 0===o||null===(m=o.Screen)||void 0===m||null===(f=m.ev)||void 0===f?void 0:f.stagemove);let C=(0,i.p)("SubmitQ",g,"_sev",E);const R=c.F;let P=await u.Ay.post(R.SubmitQ,(0,_.Yw)(C)),O=JSON.parse((0,_.H5)(P.data));"SUCCESS"==O.hdr.rst?(L(!0),j.oR.success("Data Submitted!","Successful!",2e3),h("/Home")):(L(!0),O.fdr.length>0?O.fdr.map((e=>{j.oR.error(e.rstmsg,"Error!",4e3)})):j.oR.error("Something went wrong!","Error!",2e3))}catch(g){"ValidationError"===g.name?console.log("Validation errors:",g.errors):console.error("An error occurred during form submission:",g)}})),Ne=async e=>{var t,a,l;let r=null===(t=ye(e))||void 0===t?void 0:t[0];var s,n;r||(r=null===H||void 0===H||null===(s=H.elmsData)||void 0===s||null===(n=s[e])||void 0===n?void 0:n[0]);if(""==(null===(a=r)||void 0===a?void 0:a.type)&&(r=new Blob([r],{type:"application/octet-stream"})),null!==(l=r)&&void 0!==l&&l.mode){let e=await Ie(r.id);return e=new Blob([e],{type:"application/octet-stream"}),URL.createObjectURL(e)}if(r)return URL.createObjectURL(r)},Ie=async e=>{const t=c.F;let a=null;return D&&(a=t.dwnld+"?qid="+D+"&docid="+e),D||(a=t.dwnld+"?docid="+e),(await u.Ay.get(a,{responseType:"blob"})).data};(0,l.useEffect)((()=>{X&&Ue()}),[null===(t=ye(X))||void 0===t?void 0:t[0]]);const Ue=async()=>{const e=await(async e=>{var t,a,l;let r=null===(t=ye(e))||void 0===t?void 0:t[0];if(""==(null===(a=r)||void 0===a?void 0:a.type)&&(r=new Blob([r],{type:"application/octet-stream"})),null!==(l=r)&&void 0!==l&&l.mode){let e=await Ie(r.id);return e=new Blob([e],{type:"application/octet-stream"}),URL.createObjectURL(e)}if(r)return URL.createObjectURL(r)})(X);se(e)};(0,l.useEffect)((()=>{console.log("Starting Rendering Screen",Date(Date.now())),Ce({}),(async()=>{console.log("Load Screen Initiated");const e={hdr:{convid:(0,_.lk)(),tag:"CreateQ",orgid:"",vendid:"0"},body:{scrid:a,stgid:v,ver:be,qid:D}},t=c.F,l=D?t.OpenQ:t.CreateQ;let r=await u.Ay.post(l,(0,_.Yw)(e));401==r.status&&h("/Login");let s=JSON.parse((0,_.H5)(r.data));"FAILED"==s.hdr.rst&&1508==s.fdr[0].rstcode&&N(!1);let n=s.body.elms,d=s.body.stg,i=s.body.qdet;const o=[];if(s.body.elmsData)for(var m in n){if(10==n[m].ty&&s.body.elmsData._gridData){let e=[];s.body.elmsData._gridData[m]&&(e=Object.values(s.body.elmsData._gridData[m]),e.map((e=>{for(let d in e){var t;if(e.hasOwnProperty(d)&&9==(null===(t=n[d])||void 0===t?void 0:t.ty)){var a,l,r;let t=null===(a=s.body.elmsData)||void 0===a||null===(l=a._gridData[m])||void 0===l||null===(r=l[e._rid])||void 0===r?void 0:r[d];if(t){let a=[];a.push({id:t.id,name:t.name,mode:"Qdata"}),e[`_v_${d}`]=a}}}}))),n[m].val=s.body.elmsData._gridData[m]?e:[]}else if(4==n[m].ty)n[m].val=s.body.elmsData[m]?Se(new Date(s.body.elmsData[m])):"";else if(14==n[m].ty&&!n[m].pid&&s.body.elmsData[m]){let e=n[m].eid;g(n,e).forEach((e=>{e=Object.keys(e)[0],n[e].val=s.body.elmsData[m][e]?s.body.elmsData[m][e]:""}))}else if(n[m].pid||9==n[m].ty){if(9==n[m].ty){let e=s.body.elmsData[m];if(e){let t=[];t.push({id:e.id,name:e.name,mode:"Qdata"}),n[m].val=t}}}else n[m].val=s.body.elmsData[m]?s.body.elmsData[m]:"";o.push({fieldname:m,elementdata:n[m]})}else for(var m in n)n[m].val="",o.push({fieldname:m,elementdata:n[m]});const p=[...o];function g(e,t){const a=[];for(const l in e){const r=e[l];r.pid===t&&a.push({[l]:r})}return a}let b="",E="",x="";const y=/\$\#\w+\#\$/gi,C=[];let j=[...p];function R(e){if(e.hasOwnProperty("child"))for(let[t,a]of Object.entries(e.child))0===Object.keys(a).length?j.push({elementdata:n[t],fieldname:t}):R(a)}for(let a of j)R(a.elementdata);j.map((e=>{3===e.elementdata.ty&&!e.elementdata.con&&e.elementdata.cod&&e.elementdata.cstr&&(b+="|"+e.elementdata.cod+","+e.fieldname+","+e.elementdata.cstr)})),b+="|";let P={cmb:[]};j.map((e=>{3===e.elementdata.ty&&e.elementdata.con&&!e.elementdata.cod&&e.elementdata.cstr&&(e.elementdata.con.match(y)||P.cmb.push({elm:e.fieldname,con:e.elementdata.cstr,qry:e.elementdata.con}))}));let O=await(0,f.b)(P),M={},A={cmb:[]};j.map((async e=>{3===e.elementdata.ty&&e.elementdata.con&&!e.elementdata.cod&&e.elementdata.cstr&&e.elementdata.con.match(y)&&A.cmb.push({elm:e.fieldname,con:e.elementdata.cstr,qry:e.elementdata.con})}));let w=await(0,f.b)(A,i);M={...M,...w},p.map((e=>{if(3===e.elementdata.ty&&e.elementdata.cod&&e.elementdata.con&&e.elementdata.cstr){E="|"+e.elementdata.cod+","+e.fieldname+","+e.elementdata.cstr+"|";const t=e.elementdata.con.match(y);let a=e.elementdata.con;t&&t.forEach((e=>{var t,l;const r=e.replace("$#","").replace("#$","");null!==(t=s.body)&&void 0!==t&&null!==(l=t.elmsData)&&void 0!==l&&l.hasOwnProperty(r)&&(a=a.replace(e,s.body.elmsData[r]))}));const l=e.elementdata.cod.toLocaleUpperCase();let r={};r={[l]:a},C.push({opt:E,optw:r,fieldname:e.fieldname})}}));let S={};for(const a of C){var L;const e=await(0,f.n)(a.opt,a.optw,"Yes"),t={};t[a.fieldname]=(null===e||void 0===e||null===(L=e.body.data[a.fieldname])||void 0===L?void 0:L.length)>0?null===e||void 0===e?void 0:e.body.data[a.fieldname]:[],S={...S,...t}}let k={};x={STA:"stageid="+v},b&&(k=await(0,f.n)(b,x,"Yes"));const I={...{...k.body.data},...S,...O,...M};let U={},T={};const H=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object.keys(e).forEach((a=>{const l=t?`${t}.${a}`:a,r=e[a];10===s.body.elms[a].ty&&(U[a]={},T[a]={isReady:!1}),r.child&&H(r.child,l)}))};H(d.elms),G(I),$([...p]),B(d),Q(n),q(U),V(s.body),te(T),ve(ge),console.log("Load Screen Completed")})(),(0,d.uT)(),console.log("Completed Rendering Screen",Date(Date.now()))}),[a]),(0,l.useEffect)((()=>{if(!ie&&H&&Ee&&F&&he){Object.values(ee).every((e=>!0===e.isReady))&&(console.log("formload called"),Te())}}),[H,Ee,F,he,()=>ee]);const Te=async()=>{oe(!0);let e="Screen_"+H.qdet.stgid+"_OnLoad";const t={getValues:Ee,stageGridRefs:F,stageElements:T,cntrData:z,combodata:W,setComboData:G,setEventLoading:me,modalVisible:ne,setModalVisible:de,multiSearchData:_e,setMultiSearchData:ue,eDefHldr:H};await(0,d.hC)(H,Ee(),e,F,he,t,V),L(!0)},Be=e=>{let{error:t,resetErrorBoundary:a}=e;l.useEffect((()=>{j.oR.error("Error in Rendering Form!","Error!",{autoClose:2e3})}),[])};(0,l.useEffect)((()=>{!Pe&&Me&&(console.log(Re),j.oR.error("mandatory fields required","Error!",2e3))}),[Me]);try{return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(m.tH,{FallbackComponent:Be,children:[O?"":(0,g.jsx)(o.A,{}),k?"":(0,g.jsx)(P,{}),K.length>0?(0,g.jsxs)(s.c.Provider,{value:{...U,combodata:W,setComboData:G,elements:K,stageElements:T,cntrData:z,setStageGridRefs:q,stageGridRefs:F,gridList:ee,setstageGridList:te,eDefHldr:H,setdocField:Z,actionHighlight:E,setEventLoading:me,Fetchdocurl:Ne,seteDefHldr:V,modalVisible:ne,setModalVisible:de,multiSearchData:_e,setMultiSearchData:ue,currentGridRowData:fe,setcurrentGridRowData:pe,qdets:ge},children:[ce&&(0,g.jsx)(S,{}),(0,g.jsxs)("form",{onSubmit:xe(ke),onKeyDown:e=>(e=>{"Enter"===e.key&&e.preventDefault()})(e),id:b,className:"form-container form-control-sm",children:[(0,g.jsx)("nav",{id:"onescreenmainNav",className:"navbar navbar-expand-lg navbar-light bg-light mb-4",style:{position:"sticky",top:"60px",zIndex:1020},children:(0,g.jsxs)("div",{className:"container-fluid",children:[(0,g.jsxs)("div",{className:"navbar-brand",children:[" ",H&&H.qdet.scrname+" ("+H.qdet.stgname+")"," "]}),(0,g.jsxs)("div",{className:"d-flex",children:[(0,g.jsx)("button",{className:"btn btn-hover color-5 btn-sm  m-2",type:"submit",children:"Submit"}),(0,g.jsx)("button",{className:"btn btn-hover color-3 btn-sm m-2",type:"button",onClick:()=>(async()=>{const e={getValues:Ee,stageGridRefs:F,stageElements:T,cntrData:z};let t=w.A.ProcessStageelementsData(T.elms,"",e);L(!1);let a={};for(var l in a=w.A.ProcessStageGridData(e),H.fil)H.fil.hasOwnProperty(l)&&(t[l]={},t[l].id=H.fil[l].docid,t[l].name=ye(l)[0].name);a={_gridData:JSON.stringify(a)},t={...t,...a};var r=(0,i.p)("SaveQ",t,"_qdet",H.qdet);const s=c.F;let n=await u.Ay.post(s.SaveQ,(0,_.Yw)(r)),d=JSON.parse((0,_.H5)(n.data));"SUCCESS"==d.hdr.rst?(L(!0),j.oR.success("Data Saved!","Successful!",2e3)):(L(!0),d.fdr.length>0?d.fdr.map((e=>{j.oR.error(e.rstmsg,"Error!",4e3)})):j.oR.error("Something went wrong!","Error!",2e3))})(),children:"Save"}),(0,g.jsx)("button",{className:"btn btn btn-hover color-10 btn-sm  m-2",type:"button",onClick:()=>(async()=>{if(window.confirm("Are you sure ? , Unsaved data will be lost!")){let t={},a={};a.scrverid=H.qdet.scrverid,a.scrid=H.qdet.scrid,a.qid=H.qdet.qid,a.stgid=H.qdet.stgid;var e=(0,i.p)("CancelQ",t,"_qdet",H.qdet);const l=c.F;let r=await u.Ay.post(l.CancelQ,(0,_.Yw)(e)),s=JSON.parse((0,_.H5)(r.data));"SUCCESS"==s.hdr.rst?(L(!1),j.oR.success("form cancelled!","Successful!",2e3),h("/Home")):(L(!1),s.fdr.length>0?s.fdr.map((e=>{j.oR.error(e.rstmsg,"Error!",4e3)})):j.oR.error("Something went wrong!","Error!",2e3))}})(),children:"Cancel"}),(0,g.jsx)("button",{className:"btn btn-hover color-9 btn-sm  m-2",type:"button",onClick:()=>Le(y),children:"Actions"})]})]})}),(0,g.jsxs)("div",{className:"form-content",children:[(0,g.jsx)(A.A,{data:T.ui,elements:K,stageElements:T,cntrData:z}),(0,g.jsx)(I,{})]}),(0,g.jsx)("div",{className:"side-panel  shadow  justify-content-center",id:"sidePanel",children:(0,g.jsx)(M,{scrid:a,qid:D})})]},b)]}):(0,g.jsx)(g.Fragment,{}),(0,g.jsx)("div",{className:"modal fade",id:"exampleModalScrollable",tabIndex:"-1","aria-labelledby":"exampleModalScrollableTitle","data-bs-backdrop":"static","data-bs-keyboard":"false","aria-hidden":"true",style:{display:"none"},children:(0,g.jsx)("div",{className:"modal-dialog modal-dialog-scrollabl modal-lg",children:(0,g.jsxs)("div",{className:"modal-content",children:[(0,g.jsxs)("div",{className:"modal-header",children:[(0,g.jsx)("h6",{className:"modal-title",id:"exampleModalScrollableTitle",children:"FinX Doc Viewer"}),(0,g.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,g.jsx)("div",{className:"modal-body",children:ye(X)[0]&&re&&(0,g.jsx)(C,{localUrl:re,filename:ye(X)[0].name})}),(0,g.jsx)("div",{className:"modal-footer",children:(0,g.jsx)("button",{type:"button",className:"btn btn-primary",onClick:()=>{Z(null)},"data-bs-dismiss":"modal",children:"Close"})})]})})})]})})}catch(He){console.log("error occured ",He),j.oR.error("Error in Rendering Form!","Error!",2e3)}};const T=()=>{const[e,t]=(0,l.useState)("initialParam"),[a,s]=(0,r.ok)(),n=a.get("scrid"),d=a.get("stgid"),i=(a.get("ver"),a.get("qid")),o=`${n}-${d}-${function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}()}`;return(0,g.jsx)("div",{children:(0,g.jsx)(U,{scrid:n,stgid:d,formKey:o,qid:i})},o)}},52145:(e,t,a)=>{a.d(t,{A:()=>V});var l=a(65043),r=a(36808),s=a(77385),n=a(17426),d=a(79289),i=a(94994),o=a(44231),c=a(41391),m=a(35104),_=a(81982),u=a(69119),f=a(39378),p=a(33658),g=a(58376),v=(a(12327),a(88487)),b=a(80229),D=a(70579);var h=a(30407),E=a(81372),x=a(91120),y=a(61557),C=a(27721),j=a(83595);const R=function(e){const t=(0,l.useRef)(null);return(0,l.useEffect)((()=>{if(!t.current)return;if(!e.elmtData||""==e.elmtData)return;let a=h.b.new(t.current);a.setThemes([j.A.new(a)]);let l=a.container.children.push(y.r.new(a,{layout:a.verticalHorizontal})),r=[];r=e.elmtData?e.elmtData:r;let s=l.series.push(C.w.new(a,{name:"Series",valueField:"value",categoryField:"key"}));return s.data.setAll(r),s.appear(1e3,100),l.appear(1e3,100),l.children.push(E.s.new(a,{centerX:x.KN(50),x:x.KN(50),layout:a.horizontalLayout})).data.setAll(s.dataItems),()=>{a.dispose()}}),[e.elmtData]),(0,D.jsx)("div",{ref:t,style:{width:"100%",height:"100%"}})},P=e=>{var t;let{eid:a,fieldname:r,cap:s,col:n,mn:d,ev:i,val:o,mxLen:c,rid:m,dv:_}=e;const{watch:u,Fetchdocurl:f,eDefHldr:p}=(0,l.useContext)(v.c),[g,h]=(0,l.useState)(""),[E,x]=(0,l.useState)({}),[y,C]=(0,l.useState)({}),j={charts:R},P=async(e,t)=>{var a,l,r;if(9===(null===(a=p.elms[e])||void 0===a?void 0:a.ty))return await O(e);let s=E[e];var n;!s&&null!==p&&void 0!==p&&null!==(l=p.elmsData)&&void 0!==l&&l[e]&&(s=null===p||void 0===p||null===(n=p.elmsData)||void 0===n?void 0:n[e]);return s&&(s=s&&"object"===typeof s?e:s.toString().replace(/\n/g,"")),s&&2===(null===(r=p.elms[e])||void 0===r?void 0:r.ty)&&(s=parseFloat(s).toLocaleString()),s||""},O=async e=>{var t,a,l;let r=E[e];var s;!r&&null!==p&&void 0!==p&&null!==(t=p.elmsData)&&void 0!==t&&t[e]&&(r=null===p||void 0===p||null===(s=p.elmsData)||void 0===s?void 0:s[e]);return r&&""!==r&&null!=(null===(a=r)||void 0===a||null===(l=a[0])||void 0===l?void 0:l.name)?await f(e):"/FinxPage/custimg.svg"};return(0,l.useEffect)((()=>{const e=u((e=>{x(e)}));return(async()=>{let e=_.replace(/\\t/g,"\t").replace(/\\n/g,"\n").replace(/\\x3C/g,"<").replace(/\\x3E/g,">").replace(/\\\//g,"/").replace(/\\"/g,'"');e=await(async e=>{const t=/renderPlaceholders\("([^"]+)"\)/g;let a,l={};for(;null!==(a=t.exec(e));){const e=a[1];l[e]||(l[e]=await P(e))}for(const[r,s]of Object.entries(l))e=e.replace(new RegExp(`renderPlaceholders\\("${r}"\\)`,"g"),`"${s}"`);return e})(e),e=(e=>e.replace(/\$\{([^}]+)\}/g,((e,t)=>{try{const e=new Function("formValues",`with (formValues) { return ${t}; }`)(E);return void 0!==e?e:""}catch(a){return console.error(`Error evaluating expression: ${t}`,a),""}})))(e),h(e)})(),()=>e.unsubscribe()}),[u,p]),(0,D.jsx)("div",{id:r,className:`${n} mb-3 ${0==(null===(t=p.stg.prp[r])||void 0===t?void 0:t.disp)?"d-none":""}`,children:(M=g,(0,b.Ay)(M,{replace:e=>{if("tag"===e.type&&j[e.name]){var t;const a=j[e.name],l=null===p||void 0===p||null===(t=p.elmsData)||void 0===t?void 0:t[e.attribs.elmtdata];return(0,D.jsx)(a,{...e.attribs,style:e.attribs.style,elmtData:l,children:(0,b.zd)(e.children)})}}}))},r);var M};var O=a(62029),M=a(94424),A=(a(62851),a(62702),a(95223)),w=a(18625),S=a(88839),L=a(55603),k=a(36470),N=(a(59336),a(29848)),I=a(46933),U=a(24696),T=a(44659),B=a(36479);const H=e=>{var t;const{setStageGridRefs:a,stageGridRefs:r,combodata:s,setstageGridList:n,gridList:d,eDefHldr:i,setValue:o,getValues:c,stageElements:m,cntrData:_,setEventLoading:u,modalVisible:f,setModalVisible:p,seteDefHldr:g,setComboData:b,elements:h,currentGridRowData:E,setcurrentGridRowData:x,watch:y}=(0,l.useContext)(v.c),C={getValues:c,stageGridRefs:r,stageElements:m,cntrData:_,setEventLoading:u,modalVisible:f,setModalVisible:p,eDefHldr:i,seteDefHldr:g,setComboData:b,combodata:s},j=(0,l.useRef)(i),R=(0,l.useRef)(s),P=(0,l.useRef)(null),H=(0,l.useRef)(C);(0,l.useEffect)((()=>{j.current=i}),[i]),(0,l.useEffect)((()=>{R.current=s}),[s]),(0,l.useEffect)((()=>{H.current=C}),[C]);const[V,F]=(0,l.useState)(null),[q,W]=(0,l.useState)(null);r[e.fieldname]=(0,l.useRef)();(0,l.useRef)();const[G,K]=(0,l.useState)(null);const[$,z]=(0,l.useState)(""==e.coldef.val?[]:e.coldef.val),Q={...e.cntrlsdata[e.fieldname],...e.stagelementdata.prp[e.fieldname]};Q.child={},Q.child[e.fieldname]={},Q.fieldname=e.fieldname,Q.parentfieldanme=e.fieldname,Q.UI=function e(t,a){for(const l of t){if(l.id===a)return l;if(l.child&&Array.isArray(l.child)){const t=e(l.child,a);if(t)return t}if(l.tabcontent&&Array.isArray(l.tabcontent)){const t=e(l.tabcontent,a);if(t)return t}}return null}(e.stagelementdata.ui,e.fieldname),[].push(Q);N.A,L.A,B.A,k.A,U.A,T.A,I.A;const J=[];e.childUI.forEach((t=>{if(e.cntrlsdata[t.id]){const a=t.id,l={...e.cntrlsdata[a],...e.stagelementdata.prp[a]};"3"==l.ty?(J.push({field:a,headerName:l.cap,hide:!0}),J.push({field:`_v_${a}`,headerName:l.cap})):J.push({field:a,headerName:l.cap})}})),J.push({field:"_IsDel",filter:"agTextColumnFilter",filterParams:{apply:function(e){const t=e.rowData.filter((e=>!e._IsDel));e.successCallback(t)}},hide:!0});const Y=J;const X=e=>{e.setFilterModel({_IsDel:{filterType:"text",type:"equals",filter:"false"}})};const Z=t=>{t.getColumnDefs().map((a=>{"d-none"==(e.stagelementdata.prp[a.field]&&e.stagelementdata.prp[a.field].cls)&&t.setColumnVisible(a.field,!1)}))},ee=()=>{const e=P.current;new S.aF(e,{backdrop:"static",keyboard:!1}).show()};let te=[];e.childUI.forEach((e=>{te.push(e.id)}));const ae=y(te);(0,l.useEffect)((()=>{if(G){const l=r[e.fieldname].current.api.getRowNode(G._rid),s={};for(const r in e.stagelementdata.elms[e.fieldname].child){if("3"==e.cntrlsdata[r].ty){var t,a;s["_v_"+r]=null===R||void 0===R||null===(t=R.current[r])||void 0===t||null===(a=t.find((e=>e.k==c(r))))||void 0===a?void 0:a.v}s[r]=c(r)}const n={...l.data,...s};r[e.fieldname].current&&r[e.fieldname].current.api.applyTransaction({update:[n]})}}),[ae]);const le=(0,l.useCallback)((async t=>{const a=r[e.fieldname].current.api.applyTransaction({add:[{_rid:([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))),_IsDel:!1}],addIndex:t});if(a&&a.add){for(const t of a.add){var l,s,n,d;const a=t.id,i=null===(l=e.stagelementdata)||void 0===l||null===(s=l.sev)||void 0===s||null===(n=s[e.fieldname])||void 0===n||null===(d=n.ev)||void 0===d?void 0:d.rowadd;let c=r[e.fieldname].current.api.getRowNode(a);i&&await(0,A.Q1)(j.current,"",i,r,o,e.fieldname,H.current,a,null,c,g);let m={[e.fieldname]:c.data},_=c.data;x(m),K(c.data),e.childUI.forEach((e=>{_[e.id]&&o(e.id,_[e.id])}))}ee()}}),[]),re=(0,l.useCallback)((()=>{const t=r[e.fieldname].current.api.getSelectedRows().map((e=>({...e,_IsDel:!0})));r[e.fieldname].current.api.applyTransaction({update:t})}),[]),se={paginationPageSize:10,onCellValueChanged:async t=>{var a,l,s;let n=null===(a=e.stagelementdata)||void 0===a||null===(l=a.sev)||void 0===l||null===(s=l[t.column.colId])||void 0===s?void 0:s.ev.change;if(n){let a=r[e.fieldname].current.api.getRowNode(t.data._rid);await(0,A.Q1)(j.current,"",n,r,o,e.fieldname,H.current,t.data._rid,null,a,g)}},onGridReady:e=>{e.api.sizeColumnsToFit()},onFirstDataRendered:e=>{e.api.sizeColumnsToFit()}},ne=(0,l.useMemo)((()=>({singleClickEdit:!1,editable:!1,resizable:!0,suppressColumnVirtualisation:!0,minWidth:200})),[]),de=(0,l.useMemo)((()=>e=>e.data._rid),[]);(0,l.useCallback)((e=>{e.data}),[]);return(0,D.jsx)(D.Fragment,{children:(0,D.jsxs)("div",{className:`"row g-0 mb-3  ${0==(null===(t=i.stg.prp[e.fieldname])||void 0===t?void 0:t.disp)?"d-none":""} `,children:[(0,D.jsx)(O.A,{add:le,remove:re,header:e.coldef.cap,ar:e.stagelementdata.prp[e.fieldname]},e.fieldname+"_header"),(0,D.jsx)("div",{className:"ag-theme-alpine",children:(0,D.jsx)(M.W6,{onGridReady:t=>{W(r[e.fieldname].current.api),Z(r[e.fieldname].current.api),X(t.api),n((t=>{const a={...t};return a&&e.fieldname&&(a[e.fieldname].isReady=!0),a}))},ref:r[e.fieldname],rowData:$,columnDefs:Y,defaultColDef:ne,domLayout:"autoHeight",stopEditingWhenCellsLoseFocus:!0,rowSelection:"single",getRowId:de,pagination:!0,gridOptions:se,onRowDoubleClicked:async function(t){var a,l,s;e.childUI.forEach((e=>{t.data[e.id]&&o(e.id,t.data[e.id])}));let n={[e.fieldname]:t.data},d=null===(a=e.stagelementdata)||void 0===a||null===(l=a.sev)||void 0===l||null===(s=l[e.fieldname])||void 0===s?void 0:s.ev.frmgrload;if(d){let a=r[e.fieldname].current.api.getRowNode(t.data._rid);await(0,A.Q1)(j.current,"",d,r,o,e.fieldname,H.current,t.data._rid,null,a,g)}x(n),K(t.data),ee()}},e.fieldname)}),(0,D.jsx)("div",{children:(0,D.jsx)("div",{className:"modal fade",id:e.fieldname,"data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",ref:P,children:(0,D.jsx)("div",{className:"modal-dialog",children:(0,D.jsxs)("div",{className:"modal-content",children:[(0,D.jsxs)("div",{className:"modal-header",children:[(0,D.jsx)("h5",{className:"modal-title",id:"staticBackdropLabel",children:e.coldef.cap}),(0,D.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,D.jsx)("div",{className:"modal-body",children:(0,D.jsx)(w.A,{data:Q.UI.child,elements:h,stageElements:m,cntrData:_,rid:G&&G._rid})}),(0,D.jsx)("div",{className:"modal-footer",children:(0,D.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:()=>{for(const t in e.stagelementdata.elms[e.fieldname].child)o(t,null),K(null),x(null)},children:"Close"})})]})})})})]})})},V=e=>{let{dataprops:t,fieldname:a,stagelementdata:l,elementdefs:v,cls:b,childUI:h,rid:E,dv:x}=e;switch(t.ty){case 1:return(0,D.jsx)(r.A,{eid:t.eid,fieldname:a,cap:t.cap,col:b,mn:l.prp[a]&&l.prp[a].mn,val:t.val,mxLen:l.prp[a]&&l.prp[a].mxLen,ev:l.cev[a]&&l.cev[a].ev,rid:E});case 2:return(0,D.jsx)(n.A,{eid:t.eid,fieldname:a,cap:t.cap,col:b,mn:l.prp[a]&&l.prp[a].mn,val:t.val,mxLen:l.prp[a]&&l.prp[a].mxLen,ev:l.cev[a]&&l.cev[a].ev,rid:E});case 3:return(0,D.jsx)(s.A,{eid:t.eid,fieldname:a,cap:t.cap,col:b,mn:l.prp[a]&&l.prp[a].mn,val:t.val,mxLen:l.prp[a]&&l.prp[a].mxLen,ev:l.cev[a]&&l.cev[a].ev,cod:t.cod,rid:E});case 4:return(0,D.jsx)(d.A,{eid:t.eid,fieldname:a,cap:t.cap,col:b,mn:l.prp[a]&&l.prp[a].mn,val:t.val,mxLen:l.prp[a]&&l.prp[a].mxLen,ev:l.cev[a]&&l.cev[a].ev,rid:E});case 5:return"TimeStamp";case 6:return(0,D.jsx)(i.A,{eid:t.eid,fieldname:a,cap:t.cap,col:b,rid:E});case 7:return(0,D.jsx)(o.A,{eid:t.eid,fieldname:a,cap:t.cap,col:b,mn:l.prp[a]&&l.prp[a].mn,val:t.val,mxLen:l.prp[a]&&l.prp[a].mxLen,ev:l.cev[a]&&l.cev[a].ev,rid:E});case 8:return(0,D.jsx)(c.A,{eid:t.eid,fieldname:a,cap:t.cap,rid:E});case 9:return(0,D.jsx)(m.A,{eid:t.eid,fieldname:a,cap:t.cap,col:b,mn:l.prp[a]&&l.prp[a].mn,val:t.val,mxLen:l.prp[a]&&l.prp[a].mxLen,ev:l.cev[a]&&l.cev[a].ev,rid:E});case 10:return t.fgr?(0,D.jsxs)(D.Fragment,{children:[" ",(0,D.jsx)(H,{coldef:t,cntrlsdata:v,stagelementdata:l,fieldname:a,childUI:h,rid:E})," "]}):(0,D.jsxs)(D.Fragment,{children:[" ",(0,D.jsx)(p.A,{coldef:t,cntrlsdata:v,stagelementdata:l,fieldname:a,childUI:h,rid:E})," "]});case 11:return(0,D.jsx)(_.A,{eid:t.eid,fieldname:a,cap:t.cap});case 12:return(0,D.jsx)(u.A,{eid:t.eid,fieldname:a,cap:t.cap,col:b,mn:l.prp[a]&&l.prp[a].mn,val:t.val,mxLen:l.prp[a]&&l.prp[a].mxLen,ev:l.cev[a]&&l.cev[a].ev,rid:E});case 13:return(0,D.jsx)(f.A,{eid:t.eid,fieldname:a,cap:t.cap,col:b,mn:l.prp[a]&&l.prp[a].mn,val:t.val,mxLen:l.prp[a]&&l.prp[a].mxLen,ev:l.cev[a]&&l.cev[a].ev,rid:E});case 14:return(0,D.jsx)(g.A,{eid:t.eid,fieldname:a,cap:t.cap,col:b,mn:l.prp[a]&&l.prp[a].mn,val:t.val,mxLen:l.prp[a]&&l.prp[a].mxLen,ev:l.cev[a]&&l.cev[a].ev,defs:t,elementdefs:v,stagelementdata:l,childUI:h,rid:E});case 16:return(0,D.jsx)(P,{eid:t.eid,fieldname:a,cap:t.cap,col:b,mn:l.prp[a]&&l.prp[a].mn,val:t.val,mxLen:l.prp[a]&&l.prp[a].mxLen,ev:l.cev[a]&&l.cev[a].ev,rid:E,dv:x});default:return null}}},18625:(e,t,a)=>{a.d(t,{A:()=>n});a(65043);var l=a(52145),r=a(70579);const s=e=>{let{data:t,elements:a,stageElements:n,cntrData:d,rid:i}=e;try{function c(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}return(0,r.jsx)(r.Fragment,{children:t.map((e=>{switch(e.typ){case"div":return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:`${e.cls}`,children:e.child&&e.child.length>0&&(0,r.jsx)(s,{data:e.child,elements:a,stageElements:n,cntrData:d})},c)});case"h":return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.tag,{className:`${e.cls}`,children:e.val}),e.child&&e.child.length>0&&(0,r.jsx)(s,{data:e.child,elements:a,stageElements:n,cntrData:d})]});case"tab":return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("ul",{className:"nav nav-tabs",id:"borderedTab",role:"tablist",children:e.tabs.map((t=>(0,r.jsx)("li",{className:"nav-item",role:"presentation",children:(0,r.jsx)("button",{className:`nav-link ${t.cls}`,id:t.id,"data-bs-toggle":"tab","data-bs-target":`#${e.tabcontent.find((e=>e.tid===t.id)).id}`,type:"button",role:"tab","aria-controls":"home","aria-selected":"true",children:t.val})},t.id)))}),(0,r.jsx)("div",{className:"tab-content pt-2",id:"borderedTabContent",children:e.tabcontent.map((e=>(0,r.jsx)("div",{className:`tab-pane fade ${e.cls}`,id:e.id,role:"tabpanel","aria-labelledby":e.tid,children:(0,r.jsx)("div",{className:"row",children:e.child&&e.child.length>0&&(0,r.jsx)(s,{data:e.child,elements:a,stageElements:n,cntrData:d,rid:i})})},e.id)))})]});case"input":return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(l.A,{dataprops:a.find((t=>t.fieldname===e.id)).elementdata,fieldname:e.id,stagelementdata:n,elementdefs:d,cls:e.cls,childUI:e.child,rid:i,dv:e.dv},e.id)});case"popup":return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(l.A,{dataprops:a.find((t=>t.fieldname===e.id)).elementdata,fieldname:e.id,stagelementdata:n,elementdefs:d,cls:e.cls,childUI:e.child,rid:i},e.id)});case"grid":return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(l.A,{dataprops:a.find((t=>t.fieldname===e.id)).elementdata,fieldname:e.id,stagelementdata:n,elementdefs:d,cls:e.cls,childUI:e.child,rid:i},c)});default:return null}}))})}catch(o){console.log("Error in Render UI -",o)}},n=s},39378:(e,t,a)=>{a.d(t,{A:()=>d});var l=a(65043),r=a(88487),s=a(95223),n=a(70579);const d=e=>{let{eid:t,fieldname:a,cap:d,col:i,mn:o,ev:c,val:m,mxLen:_}=e;const{register:u,seteDefHldr:f,formState:{errors:p}}=(0,l.useContext)(r.c),{setValue:g,getValues:v,eDefHldr:b,stageGridRefs:D,watch:h,trigger:E,stageElements:x,cntrData:y,combodata:C,setComboData:j,setEventLoading:R,modalVisible:P,setModalVisible:O,multiSearchData:M,setMultiSearchData:A}=(0,l.useContext)(r.c),w={getValues:v,stageGridRefs:D,stageElements:x,cntrData:y,combodata:C,setComboData:j,setEventLoading:R,modalVisible:P,setModalVisible:O,multiSearchData:M,setMultiSearchData:A,eDefHldr:b},[S,L]=(0,l.useState)({});let k={};c&""!=c&&(k=JSON.parse(c.change));const N=()=>{k.fn&&(0,s.Gk)(k.fn,a,k.outel,v,g),b.stg.sev[a]&&(0,s.hC)(b,v(),b.stg.sev[a].ev.click,D,g,w,f)};return(0,n.jsx)("div",{className:`${i} mb-3 form-check`,children:(0,n.jsx)("button",{name:a,id:a,type:"button",className:"form-control btn btn-primary",disabled:b.stg.prp[a].ro,onClick:N,children:d})})}},44231:(e,t,a)=>{a.d(t,{A:()=>d});var l=a(65043),r=a(88487),s=a(95223),n=a(70579);const d=e=>{var t,a,d;let{eid:i,fieldname:o,cap:c,col:m,mn:_,ev:u,val:f,mxLen:p}=e;const{register:g,formState:{errors:v}}=(0,l.useContext)(r.c),{setValue:b,getValues:D,eDefHldr:h,stageGridRefs:E,watch:x,trigger:y,stageElements:C,cntrData:j,combodata:R,setComboData:P,setEventLoading:O,seteDefHldr:M,modalVisible:A,setModalVisible:w,multiSearchData:S,setMultiSearchData:L}=(0,l.useContext)(r.c),k={getValues:D,stageGridRefs:E,stageElements:C,cntrData:j,combodata:R,setComboData:P,setEventLoading:O,modalVisible:A,setModalVisible:w,multiSearchData:S,setMultiSearchData:L,eDefHldr:h},[N,I]=(0,l.useState)({});let U={};u&""!=u&&(U=JSON.parse(u.change));return(0,n.jsxs)("div",{className:`${m} mb-3 form-check`,children:[(0,n.jsx)("label",{htmlFor:o,className:`${_?"required":""} form-check-label ${0==(null===(t=h.stg.prp[o])||void 0===t?void 0:t.disp)?"d-none":""}`,children:c}),(0,n.jsx)("input",{type:"checkbox","aria-invalid":v[o]?"true":"false",className:"form-check-input",id:o,disabled:h.stg.prp[o].ro,style:{color:null===(a=h.stg.prp[o])||void 0===a?void 0:a.flcr,backgroundColor:null===(d=h.stg.prp[o])||void 0===d?void 0:d.bclr},...g(o,{required:_,maxLength:{mxLen:p,message:" is required"},value:f,onChange:e=>{if(U.fn&&(0,s.Gk)(U.fn,o,U.outel,D,b),h.stg.sev[o]){const t=x(o);N[o]!==t&&((0,s.hC)(h,D(),h.stg.sev[o].ev.change,E,b,k,M),(e=>{const{name:t,value:a}=e.target;I((e=>({...e,[t]:a})))})(e))}}})}),v[o]&&"required"==v[o].type&&(0,n.jsx)("span",{role:"alert",style:{color:"red",fontSize:"12px"},children:"This field is required"}),v[o]&&"maxLength"==v[o].type&&(0,n.jsx)("span",{role:"alert",style:{color:"red",fontSize:"12px"},children:"Max length exceeded"})]})}},77385:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(65043),_Contexts_FormContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(88487),_BusinessLogics_EventHandler__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(95223),_utilities_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(80511),react_select__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(969),react_hook_form__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(24858),_utilities_combodata__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(57492),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(70579);const ComboBox=_ref=>{var _eDefHldr$stg$prp$fie;let{eid:eid,fieldname:fieldname,cap:cap,col:col,mn:mn,ev:ev,val:val,cod:cod,rid:rid}=_ref;const{register:register,getValues:getValues,setValue:setValue,combodata:combodata,setComboData:setComboData,elements:elements,eDefHldr:eDefHldr,stageGridRefs:stageGridRefs,watch:watch,trigger:trigger,stageElements:stageElements,cntrData:cntrData,setEventLoading:setEventLoading,control:control,seteDefHldr:seteDefHldr,formState:{errors:errors},modalVisible:modalVisible,setModalVisible:setModalVisible,multiSearchData:multiSearchData,setMultiSearchData:setMultiSearchData,currentGridRowData:currentGridRowData,qdets:qdets}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_Contexts_FormContext__WEBPACK_IMPORTED_MODULE_1__.c),eDefHldrRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(eDefHldr);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{eDefHldrRef.current=eDefHldr}),[eDefHldr]);const FormContextdata={getValues:getValues,stageGridRefs:stageGridRefs,stageElements:stageElements,cntrData:cntrData,combodata:combodata,setComboData:setComboData,setEventLoading:setEventLoading,modalVisible:modalVisible,setModalVisible:setModalVisible,multiSearchData:multiSearchData,setMultiSearchData:setMultiSearchData,eDefHldr:eDefHldrRef.current};function loadCombo(e){(0,_BusinessLogics_EventHandler__WEBPACK_IMPORTED_MODULE_2__.Gk)("reloadCombo",fieldname,e,getValues,combodata,setComboData,elements)}function findParent(e,t){for(let[a,l]of Object.entries(t)){if(a===e)return null;if(l.child){if(e in l.child)return a;const t=findParent(e,l.child);if(t)return t}}return null}(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{setValue(fieldname,val)}),[val]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{Array.isArray(combodata)&&(val||combodata[fieldname].find((e=>e.k==watch(fieldname)))?val&&watch(fieldname)&&!combodata[fieldname].find((e=>e.k==watch(fieldname)))&&setValue(fieldname,""):setValue(fieldname,""))}),[combodata[fieldname]]);const options=combodata[fieldname]&&Object.keys(combodata[fieldname]).length>0?combodata[fieldname]:[],newoptionsFormat=[];options.map((e=>{newoptionsFormat.push({value:e.k,label:e.v})}));const[formData,setFormData]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});let clientevent={};eDefHldr.stg.cev[fieldname]&&(clientevent=eDefHldr.stg.cev[fieldname].ev.change);const handleChange=async(selectedOption,onChange)=>{if(clientevent&&eval(clientevent),eDefHldr.stg.sev[fieldname]){const e=watch(fieldname),t=formData[fieldname];let a=findParent(fieldname,eDefHldr.stg.elms);if(a){let e=currentGridRowData[a]._rid;(0,_BusinessLogics_EventHandler__WEBPACK_IMPORTED_MODULE_2__.Q1)(eDefHldr,"",eDefHldr.stg.sev[fieldname].ev.change,stageGridRefs,setValue,a,FormContextdata,e,null,null,seteDefHldr)}else(0,_BusinessLogics_EventHandler__WEBPACK_IMPORTED_MODULE_2__.hC)(eDefHldrRef.current,getValues(),eDefHldr.stg.sev[fieldname].ev.change,stageGridRefs,setValue,FormContextdata,seteDefHldr)}},storevalue=async(e,t)=>{await t(e.value);let a={...eDefHldr};a.elmsData=a.elmsData||{};let l="_v_"+fieldname;a.elmsData[l]=e.label,seteDefHldr(a)},customclass=eDefHldr.stg.prp[fieldname].cls;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:`${col}  ${customclass}  ${0==(null===(_eDefHldr$stg$prp$fie=eDefHldr.stg.prp[fieldname])||void 0===_eDefHldr$stg$prp$fie?void 0:_eDefHldr$stg$prp$fie.disp)?"d-none":""}`,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("label",{htmlFor:fieldname,className:(mn?"required":"")+" form-label",children:cap}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(react_hook_form__WEBPACK_IMPORTED_MODULE_6__.xI,{name:fieldname,control:control,register:fieldname,rules:{required:mn},render:e=>{let{field:{onChange:t,value:a,onBlur:l}}=e;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(react_select__WEBPACK_IMPORTED_MODULE_7__.Ay,{"aria-label":"Default select example",isDisabled:eDefHldr.stg.prp[fieldname].ro,onChange:e=>storevalue(e,t),onBlur:e=>handleChange(e,t),options:newoptionsFormat,name:fieldname,value:newoptionsFormat.find((e=>e.value==a))?newoptionsFormat.find((e=>e.value==a)):null})}}),errors[fieldname]&&"required"==errors[fieldname].type&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("span",{role:"alert",style:{color:"red",fontSize:"12px"},children:"This field is required"}),errors[fieldname]&&"maxLength"==errors[fieldname].type&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("span",{role:"alert",children:"Max length exceeded"})]})},__WEBPACK_DEFAULT_EXPORT__=ComboBox},79289:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(65043),_Contexts_FormContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(88487),_BusinessLogics_EventHandler__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(95223),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(70579);const DateBox=_ref=>{var _eDefHldr$stg$prp$fie,_eDefHldr$stg$prp$fie2,_eDefHldr$stg$prp$fie3;let{eid:eid,fieldname:fieldname,cap:cap,col:col,mn:mn,ev:ev,val:val,mxLen:mxLen,rid:rid,seteDefHldr:seteDefHldr}=_ref;const{register:register,formState:{errors:errors}}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_Contexts_FormContext__WEBPACK_IMPORTED_MODULE_1__.c),{setValue:setValue,getValues:getValues,eDefHldr:eDefHldr,stageGridRefs:stageGridRefs,watch:watch,trigger:trigger,stageElements:stageElements,cntrData:cntrData,setComboData:setComboData,combodata:combodata,setEventLoading:setEventLoading,modalVisible:modalVisible,setModalVisible:setModalVisible,multiSearchData:multiSearchData,setMultiSearchData:setMultiSearchData}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_Contexts_FormContext__WEBPACK_IMPORTED_MODULE_1__.c),FormContextdata={getValues:getValues,stageGridRefs:stageGridRefs,stageElements:stageElements,cntrData:cntrData,combodata:combodata,setComboData:setComboData,setEventLoading:setEventLoading,modalVisible:modalVisible,setModalVisible:setModalVisible,multiSearchData:multiSearchData,setMultiSearchData:setMultiSearchData,eDefHldr:eDefHldr},[formData,setFormData]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});let clientevent=null;eDefHldr.stg.cev[fieldname]&&(clientevent=eDefHldr.stg.cev[fieldname].ev.change);const handleChange=e=>{const{name:t,value:a}=e.target;setFormData((e=>({...e,[t]:a})))},initialDateValue=val&&val.length>0?val.substring(0,10):"";return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:`${col} mb-3 ${0==(null===(_eDefHldr$stg$prp$fie=eDefHldr.stg.prp[fieldname])||void 0===_eDefHldr$stg$prp$fie?void 0:_eDefHldr$stg$prp$fie.disp)?"d-none":""}`,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("label",{htmlFor:fieldname,className:(mn?"required":"")+" form-label",children:cap}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("input",{name:fieldname,id:fieldname,type:"date",className:"form-control",disabled:eDefHldr.stg.prp[fieldname].ro,style:{color:null===(_eDefHldr$stg$prp$fie2=eDefHldr.stg.prp[fieldname])||void 0===_eDefHldr$stg$prp$fie2?void 0:_eDefHldr$stg$prp$fie2.flcr,backgroundColor:null===(_eDefHldr$stg$prp$fie3=eDefHldr.stg.prp[fieldname])||void 0===_eDefHldr$stg$prp$fie3?void 0:_eDefHldr$stg$prp$fie3.bclr},...register(fieldname,{required:mn,maxLength:{mxLen:mxLen,message:" is required"},value:val,onBlur:e=>{if(clientevent&&eval(clientevent),eDefHldr.stg.sev[fieldname]){const t=watch(fieldname),a=formData[fieldname];a!==t&&((0,_BusinessLogics_EventHandler__WEBPACK_IMPORTED_MODULE_2__.hC)(eDefHldr,getValues(),eDefHldr.stg.sev[fieldname].ev.change,stageGridRefs,setValue,FormContextdata,seteDefHldr),handleChange(e))}}})}),errors[fieldname]&&"required"==errors[fieldname].type&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span",{role:"alert",style:{color:"red",fontSize:"12px"},children:"This field is required"}),errors[fieldname]&&"maxLength"==errors[fieldname].type&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span",{role:"alert",style:{color:"red",fontSize:"12px"},children:"Max length exceeded"})]})},__WEBPACK_DEFAULT_EXPORT__=DateBox},94994:(e,t,a)=>{a.d(t,{A:()=>r});a(65043);var l=a(70579);const r=e=>{let{eid:t,fieldname:a,cap:r}=e;return(0,l.jsxs)("div",{className:"col-sm-4 mb-3",children:[(0,l.jsx)("label",{htmlFor:a,className:"form-label",children:r}),(0,l.jsx)("input",{name:a,type:"datetime-local",className:"form-control",id:t})]})}},35104:(e,t,a)=>{a.d(t,{A:()=>c});var l=a(65043),r=a(88487),s=a(82585),n=a(80511),d=a(84756),i=(a(78460),a(3539)),o=a(70579);const c=e=>{var t,a,c,m,_,u,f,p,g;let{eid:v,fieldname:b,cap:D,col:h,mn:E,ev:x,val:y,mxLen:C,rid:j}=e;const R=s.F,{eDefHldr:P,watch:O,setdocField:M,getValues:A,setValue:w,trigger:S,setEventLoading:L,seteDefHldr:k}=(0,l.useContext)(r.c),[N,I]=(0,l.useState)(!1),U=e=>{var t;(I(!1),e)&&(null!==P&&void 0!==P&&null!==(t=P.fil)&&void 0!==t&&t[b]&&delete P.fil[b],w(b,[{id:"-1"}]),S(b))},{register:T}=(0,l.useContext)(r.c);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:`${h} mb-3 ${0==(null===(t=P.stg.prp[b])||void 0===t?void 0:t.disp)?"d-none":""}`,children:[(0,o.jsx)("label",{htmlFor:b,className:(E?"required":"")+" form-label",children:D}),(0,o.jsxs)("div",{className:"col-12 input-group mb-3 ",children:[(0,o.jsx)("input",{name:b,type:"file",id:b,className:"form-control d-none",disabled:P.stg.prp[b].ro,"data-browse-on-zone-click":"true",accept:"image/*,.pdf",style:{color:null===(a=P.stg.prp[b])||void 0===a?void 0:a.flcr,backgroundColor:null===(c=P.stg.prp[b])||void 0===c?void 0:c.bclr},...T(b,{required:{mn:E,message:" is required"},value:y,onChange:async e=>{if(e.target.files[0]){let a=-1;P.qdet.eid=P.elms[b].eid;const l=new FormData;for(var t of(l.append("_qdet",JSON.stringify(P.qdet)),l.append("file",e.target.files[0]),l.entries()))console.log(t[0]+", "+t[1]);(0,n.lk)();const r=R.FileUpload;let s=await d.Ay.post(r,l),i=JSON.parse((0,n.H5)(s.data));"SUCCESS"==i.hdr.rst&&(a=i.body.docid,P.fil=P.fil?P.fil:{},P.fil[b]=new Array,P.fil[b].docid=a),delete P.qdet.eid}}})},b),!P.stg.prp[b].ro&&(0,o.jsx)("button",{className:"browse btn btn-primary px-2",style:{backgroundColor:"#4154f1"},type:"button",onClick:()=>document.getElementById(b).click(),children:(0,o.jsx)("i",{className:"bi bi-upload"})}),(0,o.jsx)("input",{type:"text",className:"form-control form-control",placeholder:"Upload file",disabled:P.stg.prp[b].ro,value:null!==(m=A(b))&&void 0!==m&&null!==(_=m[0])&&void 0!==_&&_.name?null===(u=A(b))||void 0===u||null===(f=u[0])||void 0===f?void 0:f.name:"",readOnly:!0}),(null===(p=A(b))||void 0===p||null===(g=p[0])||void 0===g?void 0:g.name)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{type:"button",style:{backgroundColor:"#4154f1"},className:"browse btn btn-primary px-2","data-bs-toggle":"modal",onClick:()=>(e=>{M(e)})(b),"data-bs-target":"#exampleModalScrollable",children:(0,o.jsx)("i",{className:"bi bi-eye"})}),!P.stg.prp[b].ro&&(0,o.jsx)("button",{type:"button",className:"browse btn btn-danger px-2",onClick:()=>{I(!0)},children:(0,o.jsx)("i",{className:"bi bi-trash"})})]})]})]}),(0,o.jsx)(i.A,{show:N,onHide:()=>U(!1),onConfirm:()=>U(!0),message:"Are you sure you want to delete the document?"})]})}},33658:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(65043),react_toastify__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(91036),_GridComponents_GrComboBox__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(55603),_GridComponents_GrFile__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(36470),_GridComponents_GrMultilineBox__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(59336),_GridComponents_GrNumericBox__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(29848),_GridComponents_GrCheckbox__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(46933),_GridComponents_GrButton__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(24696),_GridComponents_GrHeader__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(62029),_GridComponents_GrModal__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(44659),_GridComponents_GrDateBox__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(36479),ag_grid_react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(94424),ag_grid_community_styles_ag_grid_css__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(62851),ag_grid_community_styles_ag_theme_alpine_css__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(62702),_GridComponents_GrGrid__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(86196),_gridcoldefs_json__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(23073),_PopupForm__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(58376),_Contexts_FormContext__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(88487),_GridComponents_GrPopupForm__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(92610),_BusinessLogics_EventHandler__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(95223),_GridComponents_CustomDropdownEditor__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(16170),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(70579);const Grid=defs=>{var _eDefHldr$stg$prp$def;const{setStageGridRefs:setStageGridRefs,stageGridRefs:stageGridRefs,combodata:combodata,setstageGridList:setstageGridList,gridList:gridList,eDefHldr:eDefHldr,setValue:setValue,getValues:getValues,stageElements:stageElements,cntrData:cntrData,setEventLoading:setEventLoading,modalVisible:modalVisible,setModalVisible:setModalVisible,seteDefHldr:seteDefHldr,setComboData:setComboData}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_Contexts_FormContext__WEBPACK_IMPORTED_MODULE_17__.c),FormContextdata={getValues:getValues,stageGridRefs:stageGridRefs,stageElements:stageElements,cntrData:cntrData,setEventLoading:setEventLoading,modalVisible:modalVisible,setModalVisible:setModalVisible,eDefHldr:eDefHldr,seteDefHldr:seteDefHldr,setComboData:setComboData,combodata:combodata},eDefHldrRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(eDefHldr),FormContextdataRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(FormContextdata);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{eDefHldrRef.current=eDefHldr}),[eDefHldr]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{FormContextdataRef.current=FormContextdata}),[FormContextdata]);const[gridApi,setGridApi]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),[columnApi,setColumnApi]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);stageGridRefs[defs.fieldname]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();const gridRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),[modaldata,setModalData]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);let ChildGridElements=[],modaldefs=null;const[rowData,setRowData]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""==defs.coldef.val?[]:defs.coldef.val),gridComponents={2:_GridComponents_GrNumericBox__WEBPACK_IMPORTED_MODULE_5__.A,3:_GridComponents_GrComboBox__WEBPACK_IMPORTED_MODULE_2__.A,4:_GridComponents_GrDateBox__WEBPACK_IMPORTED_MODULE_10__.A,9:_GridComponents_GrFile__WEBPACK_IMPORTED_MODULE_3__.A,12:"agLargeTextCellEditor",13:_GridComponents_GrButton__WEBPACK_IMPORTED_MODULE_7__.A,14:_GridComponents_GrModal__WEBPACK_IMPORTED_MODULE_9__.A,7:_GridComponents_GrCheckbox__WEBPACK_IMPORTED_MODULE_6__.A},colDef=[];function getChildElements(e){let t=eDefHldr.elms;const a=t[e];if(!a)return[];const l=a.eid,r=[];for(const s in t)t[s].pid===l&&r.push({key:s,element:t[s]});return r}let childArray=getChildElements(defs.fieldname);function customIsDelFilter(e){const t=e.rowData.filter((e=>!e._IsDel));e.successCallback(t)}childArray.map((e=>{defs.childUI.find((t=>t.id==e.key))||defs.childUI.push({cap:e.key,id:e.key,typ:"hidden"})})),defs.childUI.forEach((item=>{const field=item.id,element={...defs.cntrlsdata[field],...defs.stagelementdata.prp[field]};("10"==element.ty||"14"==element.ty&&defs.fieldname)&&(element.child={},element.child[field]={},element.fieldname=field,element.parentfieldanme=defs.fieldname,element.UI=findElementById(defs.stagelementdata.ui,field),ChildGridElements.push(element)),gridComponents[element.ty]&&("12"==element.ty?(element.internal=!0,element.cellEditorPopup=!0):"9"==element.ty||"10"==element.ty?element.renderer=!0:"14"==element.ty?(element.renderer=!0,element.cellRendererParams={},element.cellRendererParams.clicked="clicked",element.cap=defs.cntrlsdata[element.fieldname].cap):"3"==element.ty?(element.editor=!0,element.valueFormatter="makeValueFormatter",element.valueParser="makeValueParser"):"7"==element.ty||(element.editor=!0)),"9"!=element.ty&&colDef.push({field:field,hide:"hidden"==item.typ,headerName:element.cap,...element.editor&&!element.internal&&{cellEditor:gridComponents[element.ty]},...element.renderer&&{editable:!1},...!element.renderer&&{editable:!element.ro},..."3"==element.ty&&{cellEditorParams:{values:combodata[field]?combodata[field]:[]},valueFormatter:eval(element.valueFormatter),valueParser:eval(element.valueParser)},..."7"==element.ty&&{cellRenderer:gridComponents[element.ty],editable:!1,cellRendererParams:{onChange:e=>{e.node.setDataValue(field,e.event.target.checked)}}},...element.editor&&element.internal&&{cellEditor:element.ty,cellEditorPopup:element.cellEditorPopup},...element.renderer||"10"==element.ty&&{cellRenderer:gridComponents["10"==element.ty?"14":element.ty],cellRendererParams:{fieldname:field,cap:element.cap,elementdefs:defs.cntrlsdata,stagelementdata:defs.stagelementdata}},...element.renderer&&"10"!=element.ty&&{cellRenderer:gridComponents[element.ty],...element.cellRendererParams&&{cellRendererParams:{clicked:eval(element.cellRendererParams.clicked),fieldname:field,cap:element.cap,defs:defs,elementdefs:defs.cntrlsdata,stagelementdata:defs.stagelementdata}}}}),"9"==element.ty&&(colDef.push({field:`_v_${field}`,headerName:element.cap,cellRenderer:gridComponents[element.ty],hide:"hidden"==item.typ}),colDef.push({field:field,headerName:element.cap,hide:!0}))})),colDef.push({field:"_IsDel",filter:"agTextColumnFilter",cellDataType:"text",hide:!0});const columnDefs=colDef;function lookupValue(e,t){let a=e.find((e=>e.k==t));return a?a.v:""}function lookupKey(e,t){let a=e.find((e=>e.k==t));return a?a.k:""}function makeValueFormatter(e){return lookupValue(e.colDef.cellEditorParams.values,e.value)}function makeValueParser(e){return lookupKey(e.colDef.cellEditorParams.values,e.value)}async function clicked(e){var t,a,l,r;const s=null===(t=defs.stagelementdata)||void 0===t||null===(a=t.sev)||void 0===a||null===(l=a[e.field])||void 0===l||null===(r=l.ev)||void 0===r?void 0:r.pupfload;setModalData(e),s&&await(0,_BusinessLogics_EventHandler__WEBPACK_IMPORTED_MODULE_19__.Sk)(eDefHldr,"",s,stageGridRefs,setValue,defs.fieldname,FormContextdata,e._rid,e.field)}function uuidv4(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}function createNewRowData(){return{_rid:uuidv4(),_IsDel:!1}}const onGridReady=e=>{setColumnApi(stageGridRefs[defs.fieldname].current.api),hidecolumns(stageGridRefs[defs.fieldname].current.api),applyIsDelFilter(e.api),setstageGridList((e=>{const t={...e};return t&&defs.fieldname&&(t[defs.fieldname].isReady=!0),t}))},applyIsDelFilter=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((e=>{e.setFilterModel({_IsDel:{filterType:"text",type:"equals",filter:"false"}})}),[]);function findElementById(e,t){for(const a of e){if(a.id===t)return a;if(a.child&&Array.isArray(a.child)){const e=findElementById(a.child,t);if(e)return e}}return null}const hidecolumns=e=>{e.getColumnDefs().map((t=>{"d-none"==(defs.stagelementdata.prp[t.field]&&defs.stagelementdata.prp[t.field].cls)&&e.setColumnVisible(t.field,!1)}))},addItems=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((e=>{var t,a,l,r;const s=null===(t=defs.stagelementdata)||void 0===t||null===(a=t.sev)||void 0===a||null===(l=a[defs.fieldname])||void 0===l||null===(r=l.ev)||void 0===r?void 0:r.rowadd;s?(0,_BusinessLogics_EventHandler__WEBPACK_IMPORTED_MODULE_19__.Q1)(eDefHldr,"",s,stageGridRefs,setValue,defs.fieldname,FormContextdata,null,null,null,seteDefHldr):stageGridRefs[defs.fieldname].current.api.applyTransaction({add:[createNewRowData()],addIndex:e})}),[]),onRemoveSelected=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>{const e=stageGridRefs[defs.fieldname].current.api.getSelectedRows().map((e=>({...e,_IsDel:!0})));stageGridRefs[defs.fieldname].current.api.applyTransaction({update:e}),applyIsDelFilter(stageGridRefs[defs.fieldname].current.api)}),[]),handleCellValueChanged=async e=>{var t,a,l;let r=null===(t=defs.stagelementdata)||void 0===t||null===(a=t.sev)||void 0===a||null===(l=a[e.column.colId])||void 0===l?void 0:l.ev.change;if(r){let t=stageGridRefs[defs.fieldname].current.api.getRowNode(e.data._rid);await(0,_BusinessLogics_EventHandler__WEBPACK_IMPORTED_MODULE_19__.Q1)(eDefHldrRef.current,"",r,stageGridRefs,setValue,defs.fieldname,FormContextdataRef.current,e.data._rid,null,t,seteDefHldr)}},gridOptions={onCellValueChanged:handleCellValueChanged,onGridReady:e=>{e.api.sizeColumnsToFit()},onFirstDataRendered:e=>{e.api.sizeColumnsToFit()}},defaultcoldefs=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>({singleClickEdit:!0,editable:!1,resizable:!0,minWidth:200})),[]),getRowId=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>e=>e.data._rid),[]),onCellEditingStopped=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((e=>{e.data}),[]),rowSelection=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>({mode:"singleRow",checkboxes:!1,enableClickSelection:!0})),[]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.Fragment,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("div",{className:`"row g-0 mb-3  ${0==(null===(_eDefHldr$stg$prp$def=eDefHldr.stg.prp[defs.fieldname])||void 0===_eDefHldr$stg$prp$def?void 0:_eDefHldr$stg$prp$def.disp)?"d-none":""} `,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_GridComponents_GrHeader__WEBPACK_IMPORTED_MODULE_8__.A,{add:addItems,remove:onRemoveSelected,header:defs.coldef.cap,ar:defs.stagelementdata.prp[defs.fieldname]},defs.fieldname+"_header"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("div",{className:"ag-theme-alpine",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(ag_grid_react__WEBPACK_IMPORTED_MODULE_11__.W6,{onGridReady:onGridReady,ref:stageGridRefs[defs.fieldname],rowData:rowData,columnDefs:columnDefs,defaultColDef:defaultcoldefs,domLayout:"autoHeight",stopEditingWhenCellsLoseFocus:!0,rowSelection:rowSelection,getRowId:getRowId,pagination:!0,gridOptions:gridOptions},defs.fieldname)}),ChildGridElements.length>0&&ChildGridElements.map((e=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_GridComponents_GrPopupForm__WEBPACK_IMPORTED_MODULE_18__.A,{eid:"",fieldname:e.fieldname,cap:e.cap,col:e.col,mn:e.mn,val:e.val,mxLen:e.mxLen,ev:"undefined",defs:e,elementdefs:defs.cntrlsdata,stagelementdata:defs.stagelementdata,parentfieldanme:defs.fieldname,childUI:e.UI.child,modaldata:modaldata,setModalData:setModalData,eDefHldr:eDefHldr,cntrData:cntrData})))]})})},__WEBPACK_DEFAULT_EXPORT__=Grid},16170:(e,t,a)=>{a(65043),a(70579)},24696:(e,t,a)=>{a.d(t,{A:()=>s});var l=a(65043),r=a(70579);const s=(0,l.memo)((0,l.forwardRef)(((e,t)=>{const[a,s]=(0,l.useState)(e.value),n=(0,l.useRef)(null);(0,l.useImperativeHandle)(t,(()=>({getValue:()=>a})));const d=(0,l.useCallback)((t=>e.setValue(t.target.value)),[]);return(0,l.useEffect)((()=>n.current.focus()),[]),(0,r.jsx)("input",{type:"button",className:"form-control",ref:n,value:a,onClick:d})})))},46933:(e,t,a)=>{a.d(t,{A:()=>n});var l=a(65043),r=a(88487),s=a(70579);const n=(0,l.memo)((0,l.forwardRef)(((e,t)=>{const[a,n]=(0,l.useState)(e.value),{eDefHldr:d}=(0,l.useContext)(r.c),i=(0,l.useRef)(null);(0,l.useEffect)((()=>{n(e.value)}),[e.value]);const o=(0,l.useCallback)((t=>{e.onChange({event:t,node:e.node})}),[e]);return(0,s.jsx)("input",{type:"checkbox",id:"fdf",ref:i,checked:a,onChange:o,disabled:d.stg.prp[e.column.colId].ro})})))},55603:(e,t,a)=>{a.d(t,{A:()=>s});var l=a(65043),r=a(70579);const s=(0,l.memo)((0,l.forwardRef)(((e,t)=>{let a=e.colDef.cellEditorParams.values;const{value:s,values:n,onValueChange:d}=e,i=(0,l.useRef)(null),o=(0,l.useCallback)((e=>{d(e.target.value)}),[]);return(0,l.useEffect)((()=>i.current.focus()),[]),(0,r.jsxs)("select",{className:"form-select",ref:i,value:s,onChange:o,children:[(0,r.jsx)("option",{value:"",children:"--Select--"},"0"),a.map((e=>(0,r.jsx)("option",{value:e.k,children:e.v},e.k)))]})})))},36479:(e,t,a)=>{a.d(t,{A:()=>s});var l=a(65043),r=a(70579);const s=(0,l.memo)((0,l.forwardRef)(((e,t)=>{const[a,s]=(0,l.useState)(e.value),n=(0,l.useRef)(null);(0,l.useImperativeHandle)(t,(()=>({getValue:()=>a})));const d=(0,l.useCallback)((e=>s(e.target.value)),[]);return(0,l.useEffect)((()=>n.current.focus()),[]),(0,r.jsx)("input",{type:"date",className:"form-control",ref:n,value:a,onChange:d})})))},36470:(e,t,a)=>{a.d(t,{A:()=>c});var l=a(65043),r=a(82585),s=a(88487),n=a(80511),d=a(84756),i=a(3539),o=a(70579);const c=(0,l.memo)((0,l.forwardRef)(((e,t)=>{var a,c,m;const{value:_,values:u,onValueChange:f}=e,{eDefHldr:p,watch:g,setdocField:v,getValues:b,setValue:D,trigger:h,setEventLoading:E,seteDefHldr:x,register:y}=(0,l.useContext)(s.c),C=r.F,[j,R]=(0,l.useState)(!1),P=((0,l.useRef)(null),(0,l.useCallback)((async t=>{let a=await(async t=>{if(t.target.files[0]){let l=-1;p.qdet.eid=p.elms[e.colDef.field.replace("_v_","")].eid;const r=new FormData;for(var a of(r.append("_qdet",JSON.stringify(p.qdet)),r.append("file",t.target.files[0]),r.entries()))console.log(a[0]+", "+a[1]);const s=C.FileUpload;let i=await d.Ay.post(s,r),o=JSON.parse((0,n.H5)(i.data));if("SUCCESS"==o.hdr.rst){l=o.body.docid,e.colDef.field.replace("_v_","");let a={};return a.id=l,a.name=t.target.files[0].name,a}}})(t);e.setValue(t.target.files),e.node.setDataValue(e.colDef.field.replace("_v_",""),a)}),[])),O=t=>{R(!1),t&&(e.node.setDataValue(e.colDef.field.replace("_v_",""),null),e.setValue(null),D(e.data._rid+"_"+e.colDef.field,null))};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"col-12 input-group mb-3 ",children:[(0,o.jsx)("input",{name:e.data._rid+"_"+e.colDef.field,type:"file",id:e.data._rid+"_"+e.colDef.field,className:"form-control d-none","data-browse-on-zone-click":"true",accept:"image/*,.pdf",onChange:P,...y(e.data._rid+"_"+e.colDef.field,{value:_,onChange:P})},e.data._rid+"_"+e.colDef.field),(0,o.jsx)("button",{className:"browse btn btn-primary px-2",style:{backgroundColor:"#4154f1"},type:"button",onClick:()=>document.getElementById(e.data._rid+"_"+e.colDef.field).click(),children:(0,o.jsx)("i",{className:"bi bi-upload"})}),(0,o.jsx)("input",{type:"text",className:"form-control form-control",placeholder:"Upload file",value:null!==_&&void 0!==_&&null!==(a=_[0])&&void 0!==a&&a.name?null===_||void 0===_||null===(c=_[0])||void 0===c?void 0:c.name:"",readOnly:!0}),(null===_||void 0===_||null===(m=_[0])||void 0===m?void 0:m.name)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{type:"button",style:{backgroundColor:"#4154f1"},className:"browse btn btn-primary px-2","data-bs-toggle":"modal",onClick:()=>{return t=e.data._rid+"_"+e.colDef.field,void v(t);var t},"data-bs-target":"#exampleModalScrollable",children:(0,o.jsx)("i",{className:"bi bi-eye"})}),(0,o.jsx)("button",{type:"button",className:"browse btn btn-danger px-2",onClick:()=>(e.data._rid,e.colDef.field,void R(!0)),children:(0,o.jsx)("i",{className:"bi bi-trash"})})]})]}),(0,o.jsx)(i.A,{show:j,onHide:()=>O(!1),onConfirm:()=>O(!0),message:"Are you sure you want to delete the document?"})]})})))},86196:(e,t,a)=>{a(65043),a(55603),a(36470),a(59336),a(29848),a(24696),a(62029),a(44659),a(36479),a(94424),a(62851),a(62702),a(70579)},62029:(e,t,a)=>{a.d(t,{A:()=>r});a(65043);var l=a(70579);function r(e){const t={backgroundColor:"#f8f8f8",borderColor:"#babfc7 !important"};return t.borderColor="#babfc7 !important",(0,l.jsxs)("div",{className:"ag-header border",style:t,children:[(0,l.jsx)("div",{className:"col-8 ms-2 d-flex align-items-center fw-bold mb-2 mt-2",children:(0,l.jsxs)("div",{children:[" ",e.header]})}),e.ar&&!e.ar.ro?(0,l.jsx)("div",{className:"col-4 ",style:{backgroundColor:"#f8f8f8"},children:(0,l.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,l.jsx)("i",{className:"bi bi-plus me-2",style:{fontSize:"25px",cursor:"pointer"},onClick:e.add}),(0,l.jsx)("i",{className:"bi bi-trash me-2",style:{fontSize:"25px",cursor:"pointer"},onClick:e.remove})]})}):(0,l.jsx)(l.Fragment,{})]})}},44659:(e,t,a)=>{a.d(t,{A:()=>s});var l=a(65043),r=a(70579);const s=(0,l.memo)((0,l.forwardRef)(((e,t)=>{console.log(e);const a={cap:e.colDef.cellRendererParams.cap,fieldname:e.colDef.cellRendererParams.fieldname,elementdefs:e.colDef.cellRendererParams.elementdefs,stagelementdata:e.colDef.cellRendererParams.stagelementdata},[s,n]=(0,l.useState)(e.value);(0,l.useRef)(null);(0,l.useImperativeHandle)(t,(()=>({getValue:()=>s})));(0,l.useCallback)((e=>n(e.target.value)),[]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#"+a.fieldname,onClick:function(){const t=a.fieldname;e.clicked({...e.data,field:t})},name:a.fieldname,children:a.cap?a.cap:a.fieldname},([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))))})})))},59336:(e,t,a)=>{a(65043),a(70579)},29848:(e,t,a)=>{a.d(t,{A:()=>s});var l=a(65043),r=a(70579);const s=(0,l.memo)((0,l.forwardRef)(((e,t)=>{const{value:a,values:s,onValueChange:n}=e,d=(0,l.useRef)(null),i=(0,l.useCallback)((e=>{n(parseFloat(e.target.value))}),[]);return(0,l.useEffect)((()=>d.current.focus()),[]),(0,r.jsx)("input",{type:"Number",className:"form-control",ref:d,value:a,onChange:i},e.data._rid+"_"+e.colDef.field)})))},92610:(e,t,a)=>{a.d(t,{A:()=>i});var l=a(65043),r=a(88487),s=a(18625),n=a(95223),d=a(70579);const i=e=>{let{eid:t,fieldname:a,cap:i,col:o,mn:c,ev:m,val:_,mxLen:u,defs:f,elementdefs:p,stagelementdata:g,parentfieldanme:v,childUI:b,modaldata:D,setModalData:h,eDefHldr:E,cntrData:x}=e;const{register:y,elements:C,stageGridRefs:j}=(0,l.useContext)(r.c),{setValue:R,getValues:P}=(0,l.useContext)(r.c),O={getValues:P,stageGridRefs:j,stageElements:g,cntrData:x};(0,l.useEffect)((()=>{if(D&&D._rid){const e=j[v].current.api.getRowNode(D._rid);for(const t in g.elms[v].child[a].child)e.data[a]?e.data[a][t]&&R(t,e.data[a][t]):R(t,null)}}),[D]);let M=p,A=f,w=g;const S=[];for(var L in A.child)M[L].val=M[L].val?M[L].val:"",S.push({fieldname:L,elementdata:M[L]});const k=[];for(var L in A.child)k.push({fieldname:L,elementdata:A.child[L]});let N={};k.map((e=>(N={...S.find((t=>t.fieldname==e.fieldname))}?{...S.find((t=>t.fieldname==e.fieldname))}:{},e.elementdata={...N.elementdata,...e.elementdata})));const I=[...k];return"10"==A.ty&&(delete I[0].elementdata.child,I[0].elementdata.child=g.elms[v].child[a].child),(0,d.jsx)(d.Fragment,{children:I?(0,d.jsx)("div",{children:(0,d.jsx)("div",{className:"modal fade",id:a,"data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:(0,d.jsx)("div",{className:"modal-dialog",children:(0,d.jsxs)("div",{className:"modal-content",children:[(0,d.jsxs)("div",{className:"modal-header",children:[(0,d.jsx)("h5",{className:"modal-title",id:"staticBackdropLabel",children:i}),(0,d.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,d.jsx)("div",{className:"modal-body",children:(0,d.jsx)(s.A,{data:b,elements:C,stageElements:w,cntrData:M,rid:D&&D._rid})}),(0,d.jsxs)("div",{className:"modal-footer",children:[(0,d.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:()=>{for(const e in g.elms[v].child[a].child)R(e,null),h(null)},children:"Close"}),(0,d.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",onClick:async()=>{var e,t,l;const r=j[v].current.api.getRowNode(D._rid),s={};for(const n in g.elms[v].child[a].child)g.elms[v].child[a]&&(s[n]=P(n));await r.setDataValue(a,s);const d=null===g||void 0===g||null===(e=g.sev)||void 0===e||null===(t=e[D.field])||void 0===t||null===(l=t.ev)||void 0===l?void 0:l.pupfsave;d&&await(0,n._8)(E,"",d,j,R,v,O,D._rid,D.field,r)},children:"Save"})]})]})})})}):(0,d.jsx)(d.Fragment,{children:" "})})}},81982:(e,t,a)=>{a.d(t,{A:()=>r});a(65043);var l=a(70579);const r=e=>{let{eid:t,fieldname:a,cap:r}=e;return(0,l.jsxs)("div",{id:t,children:[r," : Label"]})}},69119:(e,t,a)=>{a.d(t,{A:()=>n});var l=a(65043),r=a(88487),s=(a(95223),a(70579));const n=e=>{let{eid:t,fieldname:a,cap:n,col:d,mn:i,ev:o,val:c,mxLen:m}=e;const{handleOnChange:_}=(0,l.useContext)(r.c),{register:u,formState:{errors:f}}=(0,l.useContext)(r.c),{setValue:p,getValues:g,eDefHldr:v,stageGridRefs:b,watch:D,trigger:h,setEventLoading:E}=(0,l.useContext)(r.c);return(0,s.jsxs)("div",{className:`${d} mb-3`,children:[(0,s.jsx)("label",{htmlFor:a,className:(i?"required":"")+" form-label",children:n}),(0,s.jsx)("textarea",{"aria-invalid":f[a]?"true":"false",className:"form-control",disabled:v.stg.prp[a].ro,...u(a,{required:i,maxLength:{mxLen:m,message:" is required"},value:c})}),f[a]&&"required"==f[a].type&&(0,s.jsx)("span",{role:"alert",children:"This is required"}),f[a]&&"maxLength"==f[a].type&&(0,s.jsx)("span",{role:"alert",children:"Max length exceeded"})]})}},17426:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(65043),_Contexts_FormContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(88487),_BusinessLogics_EventHandler__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(95223),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(70579);const NumericBox=_ref=>{let{eid:eid,fieldname:fieldname,cap:cap,col:col,mn:mn,ev:ev,val:val,mxLen:mxLen,rid:rid}=_ref;const{register:register,formState:{errors:errors},seteDefHldr:seteDefHldr}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_Contexts_FormContext__WEBPACK_IMPORTED_MODULE_1__.c),{setValue:setValue,getValues:getValues,eDefHldr:eDefHldr,stageGridRefs:stageGridRefs,watch:watch,trigger:trigger,stageElements:stageElements,cntrData:cntrData,combodata:combodata,setComboData:setComboData,setEventLoading:setEventLoading,modalVisible:modalVisible,setModalVisible:setModalVisible,multiSearchData:multiSearchData,setMultiSearchData:setMultiSearchData,currentGridRowData:currentGridRowData}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_Contexts_FormContext__WEBPACK_IMPORTED_MODULE_1__.c),eDefHldrRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(eDefHldr),FormContextdata={getValues:getValues,stageGridRefs:stageGridRefs,stageElements:stageElements,cntrData:cntrData,combodata:combodata,setComboData:setComboData,setEventLoading:setEventLoading,modalVisible:modalVisible,setModalVisible:setModalVisible,multiSearchData:multiSearchData,setMultiSearchData:setMultiSearchData,eDefHldr:eDefHldrRef.current},handleWheel=e=>{e.preventDefault()},handleKeyDown=e=>{"ArrowUp"!==e.key&&"ArrowDown"!==e.key||e.preventDefault()},[formData,setFormData]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});let clientevent={};function findParent(e,t){for(let[a,l]of Object.entries(t)){if(a===e)return null;if(l.child){if(e in l.child)return a;const t=findParent(e,l.child);if(t)return t}}return null}ev&&(clientevent=eDefHldr.stg.cev[fieldname].ev.change),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{eDefHldrRef.current=eDefHldr}),[eDefHldr]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{clientevent&&eval(clientevent)}),[watch(fieldname)]);const handleChange=e=>{const{name:t,value:a}=e.target;setFormData((e=>({...e,[t]:a})))};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:`${col} mb-3`,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("label",{htmlFor:fieldname,className:(mn?"required":"")+" form-label",children:cap}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("input",{name:fieldname,type:"number",step:"any",className:"form-control",onWheel:handleWheel,onKeyDown:handleKeyDown,disabled:eDefHldr.stg.prp[fieldname].ro,...register(fieldname,{required:mn,maxLength:{mxLen:mxLen,message:" is required"},value:""==val?0:val,onBlur:async e=>{if(eDefHldr.stg.sev[fieldname]){const e=watch(fieldname);if(formData[fieldname]!==e){let e=findParent(fieldname,eDefHldr.stg.elms);if(e){let t=currentGridRowData[e]._rid;await(0,_BusinessLogics_EventHandler__WEBPACK_IMPORTED_MODULE_2__.Q1)(eDefHldr,"",eDefHldr.stg.sev[fieldname].ev.change,stageGridRefs,setValue,e,FormContextdata,t,null,null,seteDefHldr)}else await(0,_BusinessLogics_EventHandler__WEBPACK_IMPORTED_MODULE_2__.hC)(eDefHldr,getValues(),eDefHldr.stg.sev[fieldname].ev.change,stageGridRefs,setValue,FormContextdata,seteDefHldr)}}handleChange(e)}})})]})},__WEBPACK_DEFAULT_EXPORT__=NumericBox},58376:(e,t,a)=>{a.d(t,{A:()=>d});var l=a(65043),r=a(88487),s=(a(52145),a(36808),a(77385),a(17426),a(79289),a(94994),a(44231),a(41391),a(35104),a(81982),a(69119),a(39378),a(33658),a(12327),a(70579));var n=a(18625);const d=e=>{let{eid:t,fieldname:a,cap:d,col:i,mn:o,ev:c,val:m,mxLen:_,defs:u,elementdefs:f,stagelementdata:p,parentfieldanme:g,childUI:v}=e;const{register:b,elements:D}=(0,l.useContext)(r.c),{setValue:h}=(0,l.useContext)(r.c);let E=f,x=u,y=p;const C=[];for(var j in x.child)E[j].val=E[j].val?E[j].val:"",C.push({fieldname:j,elementdata:E[j]});const R=[];for(var j in x.child)R.push({fieldname:j,elementdata:x.child[j]});let P={};R.map((e=>(P={...C.find((t=>t.fieldname==e.fieldname))}?{...C.find((t=>t.fieldname==e.fieldname))}:{},e.elementdata={...P.elementdata,...e.elementdata})));const O=[...R];return"10"==x.ty&&(delete O[0].elementdata.child,O[0].elementdata.child=p.elms[g].child[a].child),(0,s.jsx)(s.Fragment,{children:O?(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#"+a,children:d}),(0,s.jsx)("div",{className:"modal fade",id:a,"data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:(0,s.jsx)("div",{className:"modal-dialog modal-xl",children:(0,s.jsxs)("div",{className:"modal-content",children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h5",{className:"modal-title",id:"staticBackdropLabel",children:d}),(0,s.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,s.jsx)("div",{className:"modal-body",children:(0,s.jsx)(n.A,{data:v,elements:D,stageElements:y,cntrData:E},"POPup_1")}),(0,s.jsx)("div",{className:"modal-footer",children:(0,s.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})})]})})})]}):(0,s.jsx)(s.Fragment,{children:" "})})}},41391:(e,t,a)=>{a.d(t,{A:()=>r});a(65043);var l=a(70579);const r=e=>{let{eid:t,fieldname:a,cap:r}=e;return(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{htmlFor:a,className:"form-label",children:r}),(0,l.jsx)("input",{name:a,type:"radio",className:"form-control",id:t})]})}},36808:(e,t,a)=>{a.d(t,{A:()=>d});var l=a(65043),r=a(88487),s=a(95223),n=a(70579);const d=e=>{var t,a,d;let{eid:i,fieldname:o,cap:c,col:m,mn:_,ev:u,val:f,mxLen:p,rid:g}=e;const{register:v,seteDefHldr:b,formState:{errors:D}}=(0,l.useContext)(r.c),{setValue:h,getValues:E,eDefHldr:x,stageGridRefs:y,watch:C,trigger:j,stageElements:R,cntrData:P,combodata:O,setComboData:M,setEventLoading:A,modalVisible:w,setModalVisible:S,multiSearchData:L,setMultiSearchData:k,currentGridRowData:N}=(0,l.useContext)(r.c),I={getValues:E,stageGridRefs:y,stageElements:R,cntrData:P,combodata:O,setComboData:M,setEventLoading:A,modalVisible:w,setModalVisible:S,multiSearchData:L,setMultiSearchData:k,eDefHldr:x},[U,T]=(0,l.useState)({});let B={};function H(e,t){for(let[a,l]of Object.entries(t)){if(a===e)return null;if(l.child){if(e in l.child)return a;const t=H(e,l.child);if(t)return t}}return null}u&""!=u&&(B=JSON.parse(u.change));return(0,n.jsxs)("div",{className:`${m}  ${0==(null===(t=x.stg.prp[o])||void 0===t?void 0:t.disp)?"d-none":""}`,children:[(0,n.jsx)("label",{htmlFor:o,className:(_?"required":"")+" form-label",children:c}),(0,n.jsx)("input",{type:"text","aria-invalid":D[o]?"true":"false",id:o,disabled:x.stg.prp[o].ro,className:"form-control",style:{color:null===(a=x.stg.prp[o])||void 0===a?void 0:a.flcr,backgroundColor:null===(d=x.stg.prp[o])||void 0===d?void 0:d.bclr},...v(o,{required:_,maxLength:{mxLen:p,message:" is required"},value:f,onBlur:e=>{if(B.fn&&(0,s.Gk)(B.fn,o,B.outel,E,h),x.stg.sev[o]){const t=C(o);if(U[o]!==t){let t=H(o,x.stg.elms);if(t){let e=N[t]._rid;(0,s.Q1)(x,"",x.stg.sev[o].ev.change,y,h,t,I,e,null,null,b)}else(0,s.hC)(x,E(),x.stg.sev[o].ev.change,y,h,I,b);(e=>{const{name:t,value:a}=e.target;T((e=>({...e,[t]:a})))})(e)}}}})}),D[o]&&"required"==D[o].type&&(0,n.jsx)("span",{role:"alert",style:{color:"red",fontSize:"12px"},children:"This field is required"}),D[o]&&"maxLength"==D[o].type&&(0,n.jsx)("span",{role:"alert",style:{color:"red",fontSize:"12px"},children:"Max length exceeded"})]})}},3539:(e,t,a)=>{a.d(t,{A:()=>n});a(65043);var l=a(51448),r=a(14282),s=a(70579);const n=e=>{let{show:t,onHide:a,onConfirm:n,message:d}=e;return(0,s.jsxs)(l.A,{show:t,onHide:a,children:[(0,s.jsx)(l.A.Header,{closeButton:!0,children:(0,s.jsx)(l.A.Title,{children:"Confirmation"})}),(0,s.jsx)(l.A.Body,{children:d}),(0,s.jsxs)(l.A.Footer,{children:[(0,s.jsx)(r.A,{variant:"secondary",onClick:a,children:"Cancel"}),(0,s.jsx)(r.A,{variant:"danger",onClick:n,children:"Delete"})]})]})}},9630:(e,t,a)=>{a.d(t,{p:()=>r});var l=a(80511);function r(e,t,a,r){var s={};s.convid=(0,l.lk)(),s.tag=e,s.orgid="",s.vendid="0";var n={};return n.hdr=s,n.body=t,r&&(n[a]=r),n}},23073:e=>{e.exports=[]}}]);
//# sourceMappingURL=588.28c6b463.chunk.js.map