"use strict";(self.webpackChunkfinxapp=self.webpackChunkfinxapp||[]).push([[745],{36745:(e,s,l)=>{l.r(s),l.d(s,{default:()=>N});var a=l(65043),t=l(24858),r=l(18403),c=l(73033),i=l(57492),o=l(84756),n=l(80511),d=l(47046),m=l(8204),x=l(86971),h=l(70579);const j=c.Ik().shape({txtBranchName:c.Yj().required("Branch Name can not be empty"),txtAddress:c.Yj().required("Address can not be empty").min(10).max(250),txtCity:c.Yj().required("City can not be empty").min(3).max(250),cmbProvinceStateId:c.Yj().required("Please select the Provicence"),txtPhoneNo:c.Yj().required("Phone no. can not be empty").max(10,"Phone no. Max lenght is 10 "),txtEmail:c.Yj().email("Pls provide Valid  Email id").required("Email can not be empty"),txtAltEmail:c.Yj().email("Pls provide Valid Alternate Email id"),txtBookStartedOn:c.Yj().required("Book Stated on date can not be empty"),txtFYStartsOn:c.Yj().required("Fin. year Stated on date can not be empty"),cmbBaseCurrid:c.Yj().required("Please select Base Currency")}),N=()=>{const[e,s]=(0,a.useState)([]);(0,a.useEffect)((()=>{(async()=>{const e=await(0,i.n)("|CUN|PSM|","");s(e.body.psm),console.log("rerendering method")})(),console.log("rerendering")}),[]);const{register:l,handleSubmit:c,formState:{errors:N},reset:v}=(0,t.mN)({resolver:(0,r.t)(j)}),[p,b]=(0,a.useState)(""),[u,y]=(0,a.useState)(!1),[f,g]=(0,a.useState)({}),S=(0,x.Zp)(),Y=async e=>{y(!0),console.log("Enter Create new branch api call"),console.log(e);const s={hdr:{convid:(0,n.lk)(),tag:"NewBranch",orgid:"",vendid:"0"},body:e},l={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}};console.log(l);try{const e=await o.Ay.post("/cmpstp/crtbrch",(0,n.Yw)(s),l),a=JSON.parse((0,n.H5)(e.data));console.log(a),"FAILED"==a.hdr.rst||"ERROR"==a.hdr.rst?(A("Error",JSON.stringify(a.fdr)),y(!1)):(A("Error",JSON.stringify(a.fdr)),y(!1),S("/Home"))}catch(a){console.log(a.message),A("Error","Unable to process request"),y(!1)}},A=(e,s)=>{b({AlertType:e,message:s})};try{var P,B,E,F,k,C,O,w,q,I,M;return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("section",{className:"vh-100",children:(0,h.jsx)("div",{className:"container h-100",children:(0,h.jsxs)("div",{className:"card text-black",style:{borderRadius:"25px"},children:[(0,h.jsx)("div",{className:"card-header",children:(0,h.jsx)("strong",{className:"card-title",children:"Branch"})}),(0,h.jsxs)("div",{className:"card-body p-md-5",children:[u?(0,h.jsx)(d.A,{}):"",(0,h.jsx)(m.A,{alert:p}),(0,h.jsxs)("form",{onSubmit:c(Y),children:[(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:"col-sm",children:(0,h.jsxs)("div",{className:"mb-3",children:[(0,h.jsx)("label",{htmlFor:"txtBranchName",className:"form-label",children:" Branch Name"}),(0,h.jsx)("input",{...l("txtBranchName"),type:"text",className:"form-control"}),(0,h.jsx)("p",{children:null===(P=N.txtBranchName)||void 0===P?void 0:P.message})]})}),(0,h.jsx)("div",{className:"col-sm",children:(0,h.jsxs)("div",{className:"mb-3",children:[(0,h.jsx)("label",{htmlFor:"txtAddress",className:"form-label",children:"Address"}),(0,h.jsx)("textarea",{...l("txtAddress"),type:"textarea",height:20,className:"form-control"}),(0,h.jsx)("p",{children:null===(B=N.txtAddress)||void 0===B?void 0:B.message})]})})]}),(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:"col-sm",children:(0,h.jsxs)("div",{className:"mb-3",children:[(0,h.jsx)("label",{htmlFor:"txtCity",className:"form-label",children:" City"}),(0,h.jsx)("input",{...l("txtCity"),type:"text",className:"form-control"}),(0,h.jsx)("p",{children:null===(E=N.txtCity)||void 0===E?void 0:E.message})]})}),(0,h.jsx)("div",{className:"col-sm",children:(0,h.jsxs)("div",{className:"mb-3",children:[(0,h.jsx)("label",{htmlFor:"cmbProvinceStateId",className:"form-label",children:"Province State"}),(0,h.jsxs)("select",{...l("cmbProvinceStateId"),className:"form-control",children:[(0,h.jsx)("option",{value:"",children:"- Select -"}),e.map((e=>(0,h.jsx)("option",{value:e.k,children:e.v},e.k)))]}),(0,h.jsx)("p",{children:null===(F=N.cmbProvinceStateId)||void 0===F?void 0:F.message})]})})]}),(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:"col-sm",children:(0,h.jsxs)("div",{className:"mb-3",children:[(0,h.jsx)("label",{htmlFor:"txtPhoneNo",className:"form-label",children:" Phone no"}),(0,h.jsx)("input",{...l("txtPhoneNo"),type:"text",className:"form-control"}),(0,h.jsx)("p",{children:null===(k=N.txtPhoneNo)||void 0===k?void 0:k.message})]})}),(0,h.jsx)("div",{className:"col-sm",children:(0,h.jsxs)("div",{className:"mb-3",children:[(0,h.jsx)("label",{htmlFor:"txtAltPhoneNo",className:"form-label",children:"Alt Phone no"}),(0,h.jsx)("input",{...l("txtAltPhoneNo"),type:"text",className:"form-control"}),(0,h.jsx)("p",{children:null===(C=N.txtAltPhoneNo)||void 0===C?void 0:C.message})]})})]}),(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:"col-sm",children:(0,h.jsxs)("div",{className:"mb-3",children:[(0,h.jsx)("label",{htmlFor:"txtEmail",className:"form-label",children:" EMail"}),(0,h.jsx)("input",{...l("txtEmail"),type:"email",className:"form-control"}),(0,h.jsx)("p",{children:null===(O=N.txtEmail)||void 0===O?void 0:O.message})]})}),(0,h.jsx)("div",{className:"col-sm",children:(0,h.jsxs)("div",{className:"mb-3",children:[(0,h.jsx)("label",{htmlFor:"txtAltEmail",className:"form-label",children:"Alt Email"}),(0,h.jsx)("input",{...l("txtAltEmail"),type:"email",className:"form-control"}),(0,h.jsx)("p",{children:null===(w=N.txtAltEmail)||void 0===w?void 0:w.message})]})})]}),(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:"col-sm",children:(0,h.jsxs)("div",{className:"mb-3",children:[(0,h.jsx)("label",{htmlFor:"txtBookStartedOn",className:"form-label",children:" Book Started On"}),(0,h.jsx)("input",{...l("txtBookStartedOn"),type:"date",className:"form-control",placeholder:"YYYY-MM-DD"}),(0,h.jsx)("p",{children:null===(q=N.txtBookStartedOn)||void 0===q?void 0:q.message})]})}),(0,h.jsx)("div",{className:"col-sm",children:(0,h.jsxs)("div",{className:"mb-3",children:[(0,h.jsx)("label",{htmlFor:"txtFYStartsOn",className:"form-label",children:"FY Starts On"}),(0,h.jsx)("input",{...l("txtFYStartsOn"),type:"date",className:"form-control",placeholder:"YYYY-MM-DD"}),(0,h.jsx)("p",{children:null===(I=N.txtFYStartsOn)||void 0===I?void 0:I.message})]})})]}),(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:"col-sm",children:(0,h.jsxs)("div",{className:"mb-3",children:[(0,h.jsx)("label",{htmlFor:"cmbBaseCurrid",className:"form-label",children:" Base Currency"}),(0,h.jsxs)("select",{...l("cmbBaseCurrid"),className:"form-control",children:[(0,h.jsx)("option",{value:"",children:"- Select -"}),(0,h.jsx)("option",{value:"1",children:"INR"}),(0,h.jsx)("option",{value:"2",children:"ZMW"}),(0,h.jsx)("option",{value:"3",children:"USD"}),(0,h.jsx)("option",{value:"4",children:"EUR"})]}),(0,h.jsx)("p",{children:null===(M=N.cmbBaseCurrid)||void 0===M?void 0:M.message})]})}),(0,h.jsx)("div",{className:"col-sm",children:(0,h.jsx)("div",{className:"mb-3"})})]}),(0,h.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})]})})})})}catch(D){console.log(D.message)}}}}]);
//# sourceMappingURL=745.f8bcd05b.chunk.js.map