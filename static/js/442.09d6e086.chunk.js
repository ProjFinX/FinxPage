"use strict";(self.webpackChunkfinxapp=self.webpackChunkfinxapp||[]).push([[442],{79442:(e,s,c)=>{c.r(s),c.d(s,{default:()=>v});var t=c(65043),l=c(8204),r=c(24858),a=c(18403),n=c(73033),o=c(84756),i=c(47046),d=c(8387),m=(c(57492),c(64196)),b=(c(2459),c(91036)),h=c(80511),x=c(82585),S=c(9630),u=c(70579);const I=x.F,j=(localStorage.getItem("CompanyId"),n.Ik().shape({txtScreenName:n.Yj().required("Pls select Screen Name")}));const v=function(){const[e,s]=(0,t.useState)([]),[c,n]=(0,t.useState)(""),[x,v]=(0,t.useState)(!1),[N,p]=(0,t.useState)([]),[C,y]=(0,t.useState)([]),[g,f]=(0,t.useState)(0),[A,k]=(0,t.useState)(!1),{register:F,handleSubmit:w,formState:{errors:P},getValues:E,reset:R}=(0,r.mN)({resolver:(0,a.t)(j)}),O=async()=>{const e=await(0,d.m)();s(e.body.Screens),console.log(e.body.Screens)};(0,t.useEffect)((()=>{O()}),[]),(0,t.useEffect)((()=>{}),[A]);const J=async e=>{let s="",c=e.txtScreenId;e.cbIsCustomScreen&&(s=e.txtCustScreenPath),void 0==e.txtScreenId&&(c="0");let t={txtScreenId:c,txtScrName:e.txtScreenName,cbIsActive:e.cbIsActive,cbIsSubmit:e.cbIsSubmit,cbIsSave:e.cbIsSave,cbIsSaveClose:e.cbIsSaveClose,cbIsClose:e.cbIsClose,cbIsAction:e.cbIsAction,cbIsCustomScreen:e.cbIsCustomScreen,txtScrPath:s};const l=I.UpdScreenMaster;v(!0);const r={convid:(0,h.lk)(),tag:"cngusrstus",orgid:"",vendid:"0"},a={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}},i={hdr:r,body:t};console.log(i);try{const e=await o.Ay.post(l,(0,h.Yw)(i),a),s=JSON.parse((0,h.H5)(e.data));console.log(s),"FAILED"==s.hdr.rst||"ERROR"==s.hdr.rst?(B("Error",JSON.stringify(s.fdr[0].rstmsg)),v(!1)):setTimeout((()=>{console.log(s.fdr),b.oR.success("Successfully updated"),B("Success",JSON.stringify(s.fdr[0].rstmsg)),setTimeout((()=>{n({AlertType:"null",message:"null"})}),600),Y(),O(),v(!1)}),300)}catch(d){console.log(d.message),b.oR.error("Unable to process request"),B("Error","Unable to process request"),v(!1)}};function Y(){R({txtScreenId:"",txtScreenName:"",txtCustScreenPath:"",cbIsActive:!1,cbIsCustomScreen:!1,cbIsSubmit:!1,cbIsSave:!1,cbIsSaveClose:!1,cbIsClose:!1,cbIsAction:!1})}const B=(e,s)=>{n({AlertType:e,message:s})};try{var T,U;return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("section",{className:"vh-100",children:(0,u.jsx)("div",{className:"container h-100",children:(0,u.jsxs)("div",{className:"card text-black",style:{borderRadius:"25px"},children:[(0,u.jsx)("div",{className:"card-header",children:(0,u.jsx)("strong",{className:"card-title",children:"Create New Screen"})}),(0,u.jsxs)("div",{className:"card-body p-md-5",children:[x?(0,u.jsx)(i.A,{}):"",(0,u.jsx)(l.A,{alert:c}),(0,u.jsxs)("form",{onSubmit:w(J),autocomplete:"off",children:[(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-sm",children:(0,u.jsxs)("div",{className:"mb-3",children:[(0,u.jsxs)("label",{htmlFor:"txtScreenName",className:"form-label",children:[" ","Screen Name"]}),(0,u.jsx)("input",{...F("txtScreenName"),type:"text",className:"form-control"}),(0,u.jsx)("p",{children:null===(T=P.txtScreenName)||void 0===T?void 0:T.message})]})}),(0,u.jsx)("div",{className:"col-sm",children:(0,u.jsxs)("div",{className:"mb-3",children:[(0,u.jsxs)("label",{htmlFor:"txtScreenId",className:"form-label",children:[" ","Screen Id"]}),(0,u.jsx)("input",{...F("txtScreenId"),type:"text",className:"form-control",disabled:"disabled",readonly:"readonly"})]})})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-md-1",children:[(0,u.jsx)("input",{...F("cbIsActive"),type:"checkbox"})," ",(0,u.jsx)("label",{htmlFor:"cbIsActive",className:"form-label",children:"Active"})]}),(0,u.jsxs)("div",{className:"col-md-2",children:[(0,u.jsx)("input",{...F("cbIsSubmit"),type:"checkbox"})," ",(0,u.jsx)("label",{htmlFor:"cbIsSubmit",className:"form-label",children:"Submit & Cancel"})]}),(0,u.jsxs)("div",{className:"col-md-1",children:[(0,u.jsx)("input",{...F("cbIsSave"),type:"checkbox"})," ",(0,u.jsx)("label",{htmlFor:"cbIsSave",className:"form-label",children:"Save"})]}),(0,u.jsxs)("div",{className:"col-md-2",children:[(0,u.jsx)("input",{...F("cbIsSaveClose"),type:"checkbox"})," ",(0,u.jsx)("label",{htmlFor:"cbIsSaveClose",className:"form-label",children:"Save & Close"})]}),(0,u.jsxs)("div",{className:"col-md-1",children:[(0,u.jsx)("input",{...F("cbIsClose"),type:"checkbox"})," ",(0,u.jsx)("label",{htmlFor:"cbIsClose",className:"form-label",children:"Close"})]}),(0,u.jsxs)("div",{className:"col-md-1",children:[(0,u.jsx)("input",{...F("cbIsAction"),type:"checkbox"})," ",(0,u.jsx)("label",{htmlFor:"cbIsAction",className:"form-label",children:"Action"})]}),(0,u.jsxs)("div",{className:"col-md-2",children:[(0,u.jsx)("input",{...F("cbIsCustomScreen"),type:"checkbox",onChange:e=>{(e=>{1==e.target.value?k(!0):k(!1)})({target:{value:e.target.checked}})}})," ",(0,u.jsx)("label",{htmlFor:"cbIsCustomScreen",className:"form-label",children:"Is Custom Screen"})]})]}),(0,u.jsx)("div",{className:"row",children:(0,u.jsx)("div",{className:"col-sm",children:(0,u.jsxs)("div",{className:"mb-3",children:[(0,u.jsxs)("label",{htmlFor:"txtCustScreenPath",className:"form-label",children:[" ","Custom Screen path"]}),(0,u.jsx)("input",{...F("txtCustScreenPath"),type:"text",className:"form-control",disabled:!A}),(0,u.jsx)("p",{children:null===(U=P.txtCustScreenPath)||void 0===U?void 0:U.message})]})})}),(0,u.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"}),(0,u.jsx)("button",{type:"button",className:"btn m-3 btn-success",onClick:()=>(async()=>{let e=E(),s={};s.scrid=e.txtScreenId,s.scrname=e.txtScreenName;const c=I.BuildScrn;s=(0,S.p)("BuildScreen",s);const t=await o.Ay.post(c,(0,h.Yw)(s));"SUCCESS"==JSON.parse((0,h.H5)(t.data)).hdr.rst?b.oR.success("Screen Published "):b.oR.error("Failed to Publish")})(),children:"Publish"})]})]}),(0,u.jsxs)(m.A,{striped:!0,bordered:!0,hover:!0,children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"Id"}),(0,u.jsx)("th",{children:"Sreen"}),(0,u.jsx)("th",{children:"Status"}),(0,u.jsx)("th",{children:"Is Custom"}),(0,u.jsx)("th",{children:(0,u.jsxs)("button",{className:"btn btn-success",onClick:()=>{Y()},children:[" ",(0,u.jsx)("i",{className:"bi bi-table"})," Add"," "]})})]})}),(0,u.jsx)("tbody",{children:e.map((e=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:e.ScreenId}),(0,u.jsx)("td",{children:e.ScrName}),(0,u.jsx)("td",{children:e.IsActive?"Active":"InActive"}),(0,u.jsx)("td",{children:e.IsCustomScreen?"YES":"NO"}),(0,u.jsx)("td",{children:(0,u.jsxs)("button",{className:"btn btn-primary",onClick:()=>{var s;R({txtScreenId:(s=e).ScreenId,txtScreenName:s.ScrName,cbIsActive:s.IsActive,cbIsCustomScreen:s.IsCustomScreen,cbIsSubmit:s.IsSubmitCancel,cbIsSave:s.IsSave,cbIsSaveClose:s.IsSaveClose,cbIsClose:s.IsClose,cbIsAction:s.IsAction,txtCustScreenPath:s.ScrPath?s.ScrPath:""}),f(s.ScreenId)},children:[" ",(0,u.jsx)("i",{className:"bi bi-pen"})," Edit"]})})]})))})]})]})})})})}catch(q){console.log(q.message)}}},9630:(e,s,c)=>{c.d(s,{p:()=>l});var t=c(80511);function l(e,s,c,l){var r={};r.convid=(0,t.lk)(),r.tag=e,r.orgid="",r.vendid="0";var a={};return a.hdr=r,a.body=s,l&&(a[c]=l),a}},8387:(e,s,c)=>{c.d(s,{m:()=>a});var t=c(80511),l=c(84756);const r=c(82585).F,a=async()=>{let e;const s=r.AllScreen,c={hdr:{convid:(0,t.lk)(),tag:"AllScreen",orgid:"",vendid:"0"},body:{}},a={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}},n=s;return console.log(n),await l.Ay.post(n,(0,t.Yw)(c),a).then((function(s){const c=JSON.parse((0,t.H5)(s.data));e=c})),e}}}]);
//# sourceMappingURL=442.09d6e086.chunk.js.map